{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/templates/searchpanel.html","webpack:///./src/impl/ol/js/searchpanelcontrol.js","webpack:///./src/facade/js/searchpanelcontrol.js","webpack:///./src/facade/js/searchpanel.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","SearchPanelControl","M","impl","Control","map","html","getMapImpl","getInteractions","forEach","interaction","ol","DoubleClickZoom","dblClickInteraction_","this","setActive","on","evt","customEvt","CustomEvent","detail","coordinate","bubbles","getContainer","dispatchEvent","removeEventListener","config","utils","isUndefined","SearchPanelImplControl","exception","Promise","success","fail","template","compileSync","addEvents","buscarEspacioProductivoEl","querySelectorAll","buscarEmpresaEl","buscarParcelaEl","buscadorEspaciosProductivosEl","buscadorEstablecimientosEl","buscadorParcelasEl","resultadosBusquedaEl","loadButtonEl","clearButtonEl","selectProvinciasEspaciosProductivosEL","selectProvinciasParcelasEL","SelectMunicipiosEspaciosProductivosEL","selectMunicipiosParcelasEL","SelectTipologiaEspaciosProductivosEl","SelectSubTipologiaEspaciosProductivosEl","SelectTipologiaParcelasEl","textboxNombreEspacioProductivoEl","SelectActividadEl","textboxEspacioProductivoEl","textboxEstablecimientoEl","textboxEspacioProductivoParcelasEl","resultsEl","paginationEl","previusPageEl","nextPageEl","recordsTotalEl","recordsNumberEl","selector","addEventListener","showBuscadorEspacioProductivo","showBuscadorEmpresas","showBuscadorParcelas","disabled","search","clear","selected","Array","options","option","push","indexOf","actualizoMunicipio","enableButtons","multiple","variables","selectedMunicipiosEspaciosProductivos","selectedTipologiasEspaciosProductivos","event","target","className","includes","refCatCode","textContent","urlCatastro","substring","window","open","capaGeoJSON","map_","removeLayers","selectedFeatures","record","offsetParent","id","find","layerName","estilo","estiloPoligono","style","Polygon","fill","color","opacity","stroke","width","estiloPunto","Point","icon","src","scale","arrayFeaturesMapeaGeoJSON","length","activedPanel","layer","GeoJSON","extract","source","crs","properties","type","features","setStyle","addLayers","displayInLayerSwitcher","LOAD","setBbox","getFeatures","impl_","olFeature_","getGeometry","extent_","setZIndex","nextPage","previusPage","getData","geosearchUrlEspaciosProductivos","atributosBusqueda","getPanels","SHOW","document","display","HIDE","querySelector","control","url","listaAtributos","atributos","index","urlBusqueda","remote","then","res","myDocs","JSON","parse","text","response","docs","makeObject","arrayTipologias","Set","item","tipologia","arrayProvincias","provincia","element","arrayMunicipiosByProvincias","filter","v","unique","municipio","myObject","municipios","rellenaProvincia","rellenaTipologia","listaRecuperada","myObjets","solrid","arrayObjetosRecuperados","addOptionsSelect","e","IdSelectListaMunicipios","listadoMuncipio","getElementById","innerHTML","provincias","concat","listadoMuncipioByProvincias","sort","a","b","localeCompare","arrayOptions","idSelect","allText","select","opt","createElement","appendChild","createTextNode","selectedProvincias","selectedMunicipios","selectedSolridEspaciosProductivos","arrayFilter","obj","selectedSolridParcelas","result","feature","featureGeom","getType","geom","wkt","POLYGON","MULTI_POLYGON","centroid","getInteriorPoint","getInteriorPoints","geometryCollection","GeometryCollection","setGeometry","buscadorAreaEl","classList","add","remove","selectedIndex","selectedMunicipiosParcelas","totalRecords","page_number","page_total","espaciosProductivosList","selectedProvinciasEspaciosProductivos","selectedTipologiaEspaciosProductivos","selectedProvinciasParcelas","selectedTipologiaParcelas","geosearchUrl","query","fieldList","getSelectedSolrId","provinciaParcela","municipioParcela","tipologiaParcelas","espacioProductivo","espacioProductivoParcelas","actividad","establecimiento","geosearchUrlDirectorioEmpresas","dialog","error","geosearchUrlParcelas","encodeURI","otherParameters","respuestaGeosearch","projection","proj","getProjection","code","elemento","wktFormatter_","readFeature","dataProjection","setId","setProperties","wrapComplexFeature","featureMapea","Feature","olFeature2Facade","setAttribute","getGeoJSON","showResult","array","page_size","slice","data","dataList","maxRecordsPage","Math","floor","paginatedRecords","paginate","htmlTable","createHtmlTable","createPaginationHTML","visibility","htmlResult","infoEspacioProductivo","infoEstablecmimiento","infoParcelas","mappingSupSolar","htmlRecords","SearchPanel","Plugin","controls_","metadata_","api","metadata","control_","panel_","ui","Panel","collapsible","position","TR","collapsedButtonClass","addControls","addPanels","plugin","M$plugin$SearchPanel","M$control$SearchPanelControl","M$impl$control$SearchPanelControl"],"mappings":"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","file":"searchpanel.ol.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","module.exports = \"<div id=\\\"div-contenedor\\\" class=\\\"m-control m-container m-searchpanel\\\">\\n  <div id=\\\"buscador-panel-title\\\">Buscador de Espacios Productivos</div>\\n  <div id=\\\"opcionesBuscador\\\">\\n    <label id=\\\"buscarEspacioProductivo\\\" class=\\\"actived\\\">Espacios Productivos</label>\\n    <label id=\\\"buscarParcela\\\">Parcelas Libres</label>\\n    <label id=\\\"buscarEmpresa\\\">Directorio de Empresas</label>\\n    <div id=\\\"buscador-panel-body\\\">\\n      <div id=\\\"buscadorEspaciosProductivos\\\">\\n        <div id=\\\"ciudadesIndustriales\\\" class=\\\"opciones-busqueda\\\">\\n          <label class=\\\"label-opciones-busqueda\\\" for=\\\"switchCiudadesIndustriales\\\">Ciudades Industriales</label>\\n          <label class=\\\"switchCiudadesIndustriales\\\">\\n            <input type=\\\"checkbox\\\">\\n            <span class=\\\"slider round\\\"></span>\\n          </label>\\n          <span class=\\\"info-opciones\\\">* Filtrar por Ciudades Adscritas al proyecto Ciudades Industriales</span>\\n        </div>\\n        <div id=\\\"provinciasEspaciosProductivos\\\" class=\\\"opciones-busqueda\\\">\\n          <label class=\\\"label-opciones-busqueda\\\" for=\\\"selectProvinciasEspaciosProductivos\\\">Provincias</label>\\n          <select id=\\\"selectProvinciasEspaciosProductivos\\\" name=\\\"selectProvinciasEspaciosProductivos\\\" class=\\\"multi\\\">\\n            <option value=\\\"\\\" selected> -- Provincias -- </option>\\n          </select>\\n          <span class=\\\"info-opciones\\\">* Seleccione Provincias</span>\\n        </div>\\n        <div id=\\\"municipios\\\" class=\\\"opciones-busqueda\\\">\\n          <label class=\\\"label-opciones-busqueda\\\" for=\\\"selectMunicipiosEspaciosProductivos\\\">Municipios</label>\\n          <select id=\\\"selectMunicipiosEspaciosProductivos\\\" name=\\\"selectMunicipiosEspaciosProductivos\\\" class=\\\"multi\\\">\\n            <option value=\\\"\\\" selected> -- Municipios -- </option>\\n          </select>\\n          <span class=\\\"info-opciones\\\">* Seleccione Municipios</span>\\n        </div>\\n        <div id=\\\"tipologia\\\" class=\\\"opciones-busqueda\\\">\\n          <label class=\\\"label-opciones-busqueda\\\" for=\\\"selectTipologia\\\">Tipología</label>\\n          <select id=\\\"selectTipologiaEspaciosProductivos\\\" name=\\\"selectTipologiaEspaciosProductivos\\\" class=\\\"multi\\\">\\n            <option value=\\\"\\\" selected> -- Tipologías -- </option>\\n          </select>\\n          <span class=\\\"info-opciones\\\">* Seleccione Tipología de Espacio Productivo</span>\\n        </div>\\n        <div id=\\\"subtipologia\\\" class=\\\"opciones-busqueda\\\">\\n          <label class=\\\"label-opciones-busqueda\\\" for=\\\"selectSubTipologia\\\">Subtipología</label>\\n          <select id=\\\"selectSubTipologiaEspaciosProductivos\\\" name=\\\"selectSubTipologiaEspaciosProductivos\\\">\\n            <option value=\\\"\\\" selected>Todas las Subtipologías</option>\\n            <option value=\\\"subtipologia1\\\">Subtilopogia1</option>\\n            <option value=\\\"subtipologia2\\\">Subtilopogia2</option>\\n            <option value=\\\"subtipologia3\\\">Subtilopogia3</option>\\n            <option value=\\\"subtipologia4\\\">Subtilopogia4</option>\\n            <option value=\\\"subtipologia5\\\">Subtilopogia5</option>\\n            <option value=\\\"subtipologia6\\\">Subtilopogia6</option>\\n            <option value=\\\"subtipologia7\\\">Subtilopogia7</option>\\n            <option value=\\\"subtipologia8\\\">Subtilopogia8</option>\\n            <option value=\\\"subtipologia9\\\">Subtilopogia9</option>\\n            <option value=\\\"subtipologia10\\\">Subtilopogia10</option>\\n          </select>\\n          <span class=\\\"info-opciones\\\">* Seleccione una Subtipología de Espacio Productivo</span>\\n        </div>\\n        <div id=\\\"nombre\\\" class=\\\"opciones-busqueda\\\">\\n          <label class=\\\"label-opciones-busqueda\\\" for=\\\"textboxNombreEspacioProductivo\\\">Nombre\\n            Espacio\\n            Productivo</label>\\n          <input type=\\\"text\\\" name=\\\"textboxNombreEspacioProductivo\\\" id=\\\"textboxNombreEspacioProductivo\\\" maxlength=\\\"150\\\"\\n            placeholder=\\\"Introduzca un Nombre ...\\\">\\n          <span class=\\\"info-opciones\\\">* Escriba el nombre del Espacio Productivo</span>\\n        </div>\\n      </div>\\n      <div id=\\\"buscadorParcelas\\\">       \\n        <div id=\\\"provinciasParcelas\\\" class=\\\"opciones-busqueda\\\">\\n          <label class=\\\"label-opciones-busqueda\\\" for=\\\"selectProvinciasParcelas\\\">Provincias</label>\\n          <select id=\\\"selectProvinciasParcelas\\\" name=\\\"selectProvinciasParcelas\\\" class=\\\"multi\\\" disabled>\\n            <option value=\\\"\\\" selected> -- Provincias -- </option>\\n          </select>\\n          <span class=\\\"info-opciones\\\">* Seleccione Provincias</span>\\n        </div>\\n        <div id=\\\"municipiosParcelas\\\" class=\\\"opciones-busqueda\\\">\\n          <label class=\\\"label-opciones-busqueda\\\" for=\\\"selectMunicipiosParcelas\\\">Municipios</label>\\n          <select id=\\\"selectMunicipiosParcelas\\\" name=\\\"selectMunicipiosParcelas\\\" class=\\\"multi\\\" disabled>\\n            <option value=\\\"\\\" selected> -- Municipios -- </option>\\n          </select>\\n          <span class=\\\"info-opciones\\\">* Seleccione Municipios</span>\\n        </div>\\n        <div id=\\\"espacioProductivoParcelas\\\" class=\\\"opciones-busqueda\\\">\\n          <label class=\\\"label-opciones-busqueda\\\" for=\\\"textboxEspacioProductivoParcelas\\\">Espacio\\n            Productivo</label>\\n          <input id=\\\"textboxEspacioProductivoParcelas\\\" name=\\\"textboxEspacioProductivoParcelas\\\" type=\\\"text\\\"\\n            maxlength=\\\"150\\\" placeholder=\\\"Espacio Productivo ...\\\">\\n          <span class=\\\"info-opciones\\\">* Escriba el nombre del Espacio Productivo</span>\\n        </div>\\n        <div id=\\\"tipologiaParcela\\\" class=\\\"opciones-busqueda\\\">\\n          <label class=\\\"label-opciones-busqueda\\\" for=\\\"selectTipologiaParcelas\\\">Tipología\\n            Parcela</label>\\n          <select id=\\\"selectTipologiaParcelas\\\" name=\\\"selectTipologiaParcelas\\\" class=\\\"multi\\\">\\n            <option value=\\\"\\\" selected>Tipología Parcela...</option>\\n            <option value=\\\"1\\\">Menor de 2.000 m&sup2;</option>\\n            <option value=\\\"2\\\">Entre 2.000 m&sup2 y 5.000 m&sup2;</option>\\n            <option value=\\\"3\\\">Entre 5000 m&sup2; y 10.000 m&sup2;</option>\\n            <option value=\\\"4\\\">Mayor de 10.000 m&sup2;</option>\\n          </select>\\n          <span class=\\\"info-opciones\\\">* Seleccione Tipología de Parcela</span>\\n        </div>\\n      </div>\\n      <div id=\\\"buscadorEstablecimientos\\\">\\n        <div id=\\\"espacioProductivo\\\" class=\\\"opciones-busqueda\\\">\\n          <label class=\\\"label-opciones-busqueda\\\" for=\\\"textboxEspacioProductivo\\\">Espacio\\n            Productivo</label>\\n          <input id=\\\"textboxEspacioProductivo\\\" name=\\\"textboxEspacioProductivo\\\" type=\\\"text\\\" maxlength=\\\"150\\\"\\n            placeholder=\\\"Espacio Productivo ...\\\">\\n          <span class=\\\"info-opciones\\\">* Escriba el nombre del Espacio Productivo</span>\\n        </div>\\n        <div id=\\\"actividad\\\" class=\\\"opciones-busqueda\\\">\\n          <label class=\\\"label-opciones-busqueda\\\" for=\\\"selectActividad\\\">Actividad</label>\\n          <select id=\\\"selectActividad\\\" name=\\\"selectActividad\\\">\\n            <option value=\\\"\\\" selected>Actividad ...</option>\\n            <option value=\\\"Aeronaútico\\\">Aeronaútico</option>\\n            <option value=\\\"Agroalimentario (industrial, no cooperativas)\\\">Agroalimentario\\n              (industrial, no cooperativas)</option>\\n            <option value=\\\"Metalurgia\\\">Metalurgia</option>\\n            <option value=\\\"Otras actividades\\\">Otras actividades</option>\\n            <option value=\\\"Productos metálicos\\\">Productos metálicos</option>\\n            <option value=\\\"Químico\\\">Químico</option>\\n            <option value=\\\"TIC\\\">TIC</option>\\n            <option value=\\\"Vehículos de transporte\\\">Vehículos de transporte</option>\\n          </select>\\n          <span class=\\\"info-opciones\\\">* Seleccione Actividad de la Empresa</span>\\n        </div>\\n        <div id=\\\"empresa\\\" class=\\\"opciones-busqueda\\\">\\n          <label class=\\\"label-opciones-busqueda\\\" for=\\\"textboxEstablecimiento\\\">Nombre\\n            Establecimiento</label>\\n          <input id=\\\"textboxEstablecimiento\\\" name=\\\"textboxEstablecimiento\\\" type=\\\"text\\\" maxlength=\\\"150\\\"\\n            placeholder=\\\"Establecimiento ...\\\">\\n          <span class=\\\"info-opciones\\\">* Escriba el nombre del Establecimiento (Razón\\n            Social)</span>\\n        </div>\\n      </div>\\n      <div id=\\\"resultadosBusqueda\\\" class=\\\"results\\\">\\n        <div id=\\\"results\\\" class=\\\"results\\\">\\n          <table class=\\\"center\\\">\\n            <tbody>\\n              <tr>\\n                <th class=\\\"noResults\\\" colspan=\\\"2\\\">\\n                  <p>No se ha encontrado ningún resultado</p>\\n                </th>\\n              </tr>\\n            </tbody>\\n          </table>\\n        </div>\\n      </div>\\n      <div id=\\\"pagination\\\" class=\\\"page\\\">\\n        <div class=\\\"page\\\">\\n          <table style=\\\"width:100%\\\">\\n            <tbody>\\n              <tr>\\n                <td id=\\\"previusPage\\\" class=\\\"g-cartografia-flecha-izquierda\\\">Atras</td>\\n                <td id=\\\"recordsInfo\\\"><span id=\\\"recordsNumber\\\" class=\\\"found\\\">0</span> de\\n                  <span id=\\\"recordsTotal\\\" class=\\\"total\\\">0</span>\\n                </td>\\n                <td id=\\\"nextPage\\\" class=\\\"g-cartografia-flecha-derecha\\\">Siguiente</td>\\n              </tr>\\n            </tbody>\\n          </table>\\n        </div>\\n      </div>\\n      <div class=\\\"button\\\">\\n        <button id=\\\"loadButton\\\" class=\\\"load\\\" title=\\\"Buscar\\\" disabled>\\n          <i class=\\\"g-cartografia-posicion3\\\"></i> Buscar</button>\\n        <button id=\\\"clearButton\\\" class=\\\"clear\\\" title=\\\"Limpiar Resultados\\\" disabled>\\n          <i class=\\\"g-cartografia-check4\\\"></i> Limpiar</button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\";","/**\n * @module M/impl/control/SearchPanelControl\n */\nexport default class SearchPanelControl extends M.impl.Control {\n  /**\n   * This function adds the control to the specified map\n   *\n   * @public\n   * @function\n   * @param {M.Map} map to add the plugin\n   * @param {HTMLElement} html of the plugin\n   * @api stable\n   */\n  addTo(map, html) {\n    // obtengo la interacción por defecto del dblclick para manejarla\n    const olMap = map.getMapImpl();\n    olMap.getInteractions().forEach((interaction) => {\n      if (interaction instanceof ol.interaction.DoubleClickZoom) {\n        this.dblClickInteraction_ = interaction;\n      }\n    });\n\n    // super addTo - don't delete\n    super.addTo(map, html);\n  }\n\n  // Add your own functions\n  activateClick(map) {\n    // desactivo el zoom al dobleclick\n    this.dblClickInteraction_.setActive(false);\n\n    // añado un listener al evento dblclick\n    const olMap = map.getMapImpl();\n    olMap.on('dblclick', (evt) => {\n      // disparo un custom event con las coordenadas del dobleclick\n      const customEvt = new CustomEvent('mapclicked', {\n        detail: evt.coordinate,\n        bubbles: true,\n      });\n      map.getContainer().dispatchEvent(customEvt);\n    });\n  }\n\n  deactivateClick(map) {\n    // activo el zoom al dobleclick\n    this.dblClickInteraction_.setActive(true);\n\n    // elimino el listener del evento\n    map.getMapImpl().removeEventListener('dblclick');\n  }\n}\n","/* eslint-disable no-console */\n\n/**\n * @module M/control/SearchPanelControl\n */\n\nimport SearchPanelImplControl from 'impl/searchpanelcontrol';\nimport template from 'templates/searchpanel';\n\nexport default class SearchPanelControl extends M.Control {\n  /**\n   * @classdesc\n   * Main constructor of the class. Creates a PluginControl\n   * control\n   *\n   * @constructor\n   * @extends {M.Control}\n   * @api stable\n   */\n  constructor(config) {\n    // 1. checks if the implementation can create PluginControl\n    if (M.utils.isUndefined(SearchPanelImplControl)) {\n      M.exception('La implementación usada no puede crear controles SearchPanelControl');\n    }\n    // 2. implementation of this control\n    const impl = new SearchPanelImplControl();\n    super(impl, 'SearchPanel');\n    this.config = config;\n\n\n  }\n\n  /**\n   * This function creates the view\n   *\n   * @public\n   * @function\n   * @param {M.Map} map to add the control\n   * @api stable\n   */\n  createView(map) {\n\n\n    return new Promise((success, fail) => {\n      const html = M.template.compileSync(template);\n      // Añadir código dependiente del DOM\n      this.addEvents(html);\n      success(html);\n    });\n  }\n\n  addEvents(html) {\n\n\n    const buscarEspacioProductivoEl = html.querySelectorAll('label#buscarEspacioProductivo')[0];\n    const buscarEmpresaEl = html.querySelectorAll('label#buscarEmpresa')[0];\n    const buscarParcelaEl = html.querySelectorAll('label#buscarParcela')[0];\n    const buscadorEspaciosProductivosEl = html.querySelectorAll('div#buscadorEspaciosProductivos')[0];\n    const buscadorEstablecimientosEl = html.querySelectorAll('div#buscadorEstablecimientos')[0];\n    const buscadorParcelasEl = html.querySelectorAll('div#buscadorParcelas')[0];\n    const resultadosBusquedaEl = html.querySelectorAll('div#resultadosBusqueda')[0];\n    const loadButtonEl = html.querySelectorAll('button#loadButton')[0];\n    const clearButtonEl = html.querySelectorAll('button#clearButton')[0];\n    const selectProvinciasEspaciosProductivosEL = html.querySelectorAll('select#selectProvinciasEspaciosProductivos')[0];\n    const selectProvinciasParcelasEL = html.querySelectorAll('select#selectProvinciasParcelas')[0];\n    const SelectMunicipiosEspaciosProductivosEL = html.querySelectorAll('select#selectMunicipiosEspaciosProductivos')[0];\n    const selectMunicipiosParcelasEL = html.querySelectorAll('select#selectMunicipiosParcelas')[0];\n    const SelectTipologiaEspaciosProductivosEl = html.querySelectorAll('select#selectTipologiaEspaciosProductivos')[0];\n    const SelectSubTipologiaEspaciosProductivosEl = html.querySelectorAll('select#selectSubTipologiaEspaciosProductivos')[0];\n    const SelectTipologiaParcelasEl = html.querySelectorAll('select#selectTipologiaParcelas')[0];\n    const textboxNombreEspacioProductivoEl = html.querySelectorAll('input#textboxNombreEspacioProductivo')[0];\n    const SelectActividadEl = html.querySelectorAll('select#selectActividad')[0];\n    const textboxEspacioProductivoEl = html.querySelectorAll('input#textboxEspacioProductivo')[0];\n    const textboxEstablecimientoEl = html.querySelectorAll('input#textboxEstablecimiento')[0];\n    const textboxEspacioProductivoParcelasEl = html.querySelectorAll('input#textboxEspacioProductivoParcelas')[0];\n\n\n\n    const resultsEl = html.querySelectorAll('div#results')[0];\n\n    const paginationEl = html.querySelectorAll('div#pagination')[0];\n    const previusPageEl = html.querySelectorAll('td#previusPage')[0];\n    const nextPageEl = html.querySelectorAll('td#nextPage')[0];\n    const recordsTotalEl = html.querySelectorAll('span#recordsTotal')[0];\n    const recordsNumberEl = html.querySelectorAll('span#recordsNumber')[0];\n\n    let selector = {\n      buscarEspacioProductivoEl: buscarEspacioProductivoEl,\n      buscarEmpresaEl: buscarEmpresaEl,\n      buscarParcelaEl: buscarParcelaEl,\n      buscadorEspaciosProductivosEl: buscadorEspaciosProductivosEl,\n      buscadorEstablecimientosEl: buscadorEstablecimientosEl,\n      buscadorParcelasEl: buscadorParcelasEl,\n      resultadosBusquedaEl: resultadosBusquedaEl,\n      loadButtonEl: loadButtonEl,\n      clearButtonEl: clearButtonEl,\n      selectProvinciasEspaciosProductivosEL: selectProvinciasEspaciosProductivosEL,\n      selectProvinciasParcelasEL: selectProvinciasParcelasEL,\n      SelectMunicipiosEspaciosProductivosEL: SelectMunicipiosEspaciosProductivosEL,\n      selectMunicipiosParcelasEL: selectMunicipiosParcelasEL,\n      SelectTipologiaEspaciosProductivosEl: SelectTipologiaEspaciosProductivosEl,\n      SelectSubTipologiaEspaciosProductivosEl: SelectSubTipologiaEspaciosProductivosEl,\n      SelectTipologiaParcelasEl: SelectTipologiaParcelasEl,\n      textboxNombreEspacioProductivoEl: textboxNombreEspacioProductivoEl,\n      SelectActividadEl: SelectActividadEl,\n      textboxEspacioProductivoEl: textboxEspacioProductivoEl,\n      textboxEstablecimientoEl: textboxEstablecimientoEl,\n      textboxEspacioProductivoParcelasEl: textboxEspacioProductivoParcelasEl,\n      resultsEl: resultsEl,\n      paginationEl: paginationEl,\n      previusPageEl: previusPageEl,\n      nextPageEl: nextPageEl,\n      recordsTotalEl: recordsTotalEl,\n      recordsNumberEl: recordsNumberEl,\n    };\n\n    this.config.selector = selector;\n\n    selector = {};\n\n\n\n\n    this.config.selector.buscarEspacioProductivoEl.addEventListener('click', () => {\n      this.showBuscadorEspacioProductivo();\n    });\n\n    this.config.selector.buscarEmpresaEl.addEventListener('click', () => {\n      this.showBuscadorEmpresas();\n    });\n\n    this.config.selector.buscarParcelaEl.addEventListener('click', () => {\n      this.showBuscadorParcelas();\n    });\n    this.config.selector.loadButtonEl.addEventListener('click', () => {\n\n      if (this.config.selector.loadButtonEl.disabled == false) {\n        this.search();\n      }\n    });\n\n\n    this.config.selector.clearButtonEl.addEventListener('click', () => {\n      this.clear();\n    });\n    this.config.selector.selectProvinciasEspaciosProductivosEL.addEventListener('change', () => {\n      let selected = new Array()\n      for (var option of selectProvinciasEspaciosProductivosEL.options) {\n        if (option.selected) {\n          selected.push(option.value);\n        }\n      }\n\n      if (selected.indexOf(\"all\") != -1) {\n        selected = [\"*\"]\n      }\n\n      this.actualizoMunicipio(selected, \"selectMunicipiosEspaciosProductivos\");\n\n      this.config.selector.SelectMunicipiosEspaciosProductivosEL.disabled = false;\n      this.enableButtons();\n    });\n\n    this.config.selector.selectProvinciasEspaciosProductivosEL.addEventListener('click', () => {\n      this.config.selector.selectProvinciasEspaciosProductivosEL.multiple = true;\n      this.enableButtons();\n\n    });\n\n    this.config.selector.selectProvinciasParcelasEL.addEventListener('change', () => {\n      let selected = new Array()\n      for (var option of selectProvinciasParcelasEL.options) {\n        if (option.selected) {\n          selected.push(option.value);\n        }\n      }\n      if (selected.indexOf(\"all\") != -1) {\n        selected = [\"*\"]\n      }\n      this.actualizoMunicipio(selected, \"selectMunicipiosParcelas\");\n      this.config.selector.selectMunicipiosParcelasEL.disabled = false;\n      this.enableButtons();\n    });\n\n    this.config.selector.selectProvinciasParcelasEL.addEventListener('click', () => {\n      this.config.selector.selectProvinciasParcelasEL.multiple = true;\n      this.enableButtons();\n    });\n\n    this.config.selector.SelectMunicipiosEspaciosProductivosEL.addEventListener('click', () => {\n      this.config.selector.SelectMunicipiosEspaciosProductivosEL.multiple = true;\n      this.enableButtons();\n    });\n\n    this.config.selector.SelectMunicipiosEspaciosProductivosEL.addEventListener('change', () => {\n      this.config.variables.selectedMunicipiosEspaciosProductivos = new Array();\n      for (var option of SelectMunicipiosEspaciosProductivosEL.options) {\n        if (option.selected) {\n          this.config.variables.selectedMunicipiosEspaciosProductivos.push(option.value);\n        }\n      }\n      if (this.config.variables.selectedMunicipiosEspaciosProductivos.indexOf(\"all\") != -1) {\n        this.config.variables.selectedMunicipiosEspaciosProductivos = [\"*\"]\n      }\n      this.enableButtons();\n\n    });\n\n    this.config.selector.selectMunicipiosParcelasEL.addEventListener('click', () => {\n      this.config.selector.selectMunicipiosParcelasEL.multiple = true;\n      this.enableButtons();\n    });\n\n    this.config.selector.SelectTipologiaEspaciosProductivosEl.addEventListener('click', () => {\n      this.config.selector.SelectTipologiaEspaciosProductivosEl.multiple = true;\n      this.enableButtons();\n    });\n\n    this.config.selector.SelectTipologiaEspaciosProductivosEl.addEventListener('change', () => {\n      this.config.variables.selectedTipologiasEspaciosProductivos = new Array()\n      for (var option of SelectTipologiaEspaciosProductivosEl.options) {\n        if (option.selected) {\n          this.config.variables.selectedTipologiasEspaciosProductivos.push(option.value);\n        }\n      }\n      if (this.config.variables.selectedTipologiasEspaciosProductivos.indexOf(\"all\") != -1) {\n        this.config.variables.selectedTipologiasEspaciosProductivos = [\"*\"]\n      }\n      this.enableButtons();\n\n\n    });\n\n\n\n    this.config.selector.SelectTipologiaEspaciosProductivosEl.addEventListener('input', () => {\n      this.enableButtons();\n    });\n\n    this.config.selector.SelectTipologiaParcelasEl.addEventListener('click', () => {\n      this.config.selector.SelectTipologiaParcelasEl.multiple = true;\n      this.enableButtons();\n    });\n\n\n    this.config.selector.textboxNombreEspacioProductivoEl.addEventListener('input', () => {\n      this.enableButtons();\n    });\n\n\n    this.config.selector.SelectActividadEl.addEventListener('input', () => {\n      this.enableButtons();\n    });\n\n\n    this.config.selector.textboxEspacioProductivoEl.addEventListener('input', () => {\n      this.enableButtons();\n    });\n\n\n    this.config.selector.textboxEstablecimientoEl.addEventListener('input', () => {\n      this.enableButtons();\n    });\n\n\n    this.config.selector.textboxEspacioProductivoParcelasEl.addEventListener('input', () => {\n      this.enableButtons();\n    });\n\n    this.config.selector.resultsEl.addEventListener('click', (event) => {\n\n      if (event.target.className.includes('refCat')) {\n\n        let target = event.target;\n\n\n\n        let refCatCode = target.textContent;\n        let urlCatastro = 'https://www1.sedecatastro.gob.es/CYCBienInmueble/OVCListaBienes.aspx?del=&muni=&rc1=' + refCatCode.substring(0, 7) + '&rc2=' + refCatCode.substring(7, 14);\n        window.open(urlCatastro, '_blank');\n      } else {\n        let target = event.target;\n\n        if ((target.className == 'value' || target.className == 'key') && (target.textContent != 'Referencia Catastral')) {\n\n          if (this.config.variables.capaGeoJSON != null) {\n\n            this.map_.removeLayers(this.config.variables.capaGeoJSON);\n          }\n\n          this.config.variables.selectedFeatures = new Array();\n\n\n          let record = event.target.offsetParent.id;\n          let find = false;\n          let layerName = null;\n          let estilo = null;\n          let estiloPoligono = new M.style.Polygon({\n            fill: {\n              color: \"#0000FF\",\n              opacity: 0.1\n            },\n            stroke: {\n              color: \"#FF0000\",\n              width: 4\n            }\n          });\n\n          let estiloPunto = new M.style.Point({\n            icon: {\n              src: 'https://ws205.juntadeandalucia.es/visores/espacios-productivos/logos/icono_empresas.svg',\n              scale: 1\n            }\n          });\n\n          do {\n            for (let i = 0; i < this.config.variables.arrayFeaturesMapeaGeoJSON.length; i++) {\n              if ((this.config.variables.arrayFeaturesMapeaGeoJSON[i].id == record)) {\n                this.config.variables.selectedFeatures.push(this.config.variables.arrayFeaturesMapeaGeoJSON[i]);\n                find = true;\n              }\n            }\n\n          } while (!find);\n\n\n          if (this.config.variables.activedPanel == \"empresas\") {\n            estilo = estiloPunto;\n            layerName = \"Resultado Búsqueda Empresas\";\n          }\n          if (this.config.variables.activedPanel == \"espaciosProductivos\") {\n            estilo = estiloPoligono;\n            layerName = \"Resultado Búsqueda Espacios Productivo\";\n          }\n          if (this.config.variables.activedPanel == \"parcelas\") {\n            estilo = estiloPoligono;\n            layerName = \"Resultado Búsqueda Parcelas\";\n          }\n\n          this.config.variables.capaGeoJSON = new M.layer.GeoJSON({\n            extract: false,\n            source: {\n              crs: {\n                properties: {\n                  name: \"EPSG:25830\"\n                },\n                type: \"name\"\n              },\n              features: this.config.variables.selectedFeatures,\n              type: \"FeatureCollection\"\n            },\n            name: layerName\n          });\n\n\n          this.config.variables.capaGeoJSON.setStyle(estilo);\n          this.map_.addLayers(this.config.variables.capaGeoJSON);\n          this.config.variables.capaGeoJSON.displayInLayerSwitcher = true;\n\n          this.config.variables.capaGeoJSON.on(M.evt.LOAD, () => {\n\n\n            this.map_.setBbox(this.config.variables.capaGeoJSON.getFeatures()[0].impl_.olFeature_.getGeometry().extent_);\n\n          });\n\n          this.config.variables.capaGeoJSON.setZIndex(100000);\n        }\n      }\n    }, false);\n\n\n\n    this.config.selector.nextPageEl.addEventListener('click', () => {\n      this.nextPage();\n    });\n\n    this.config.selector.previusPageEl.addEventListener('click', () => {\n      this.previusPage();\n    });\n\n\n\n    this.getData(this.config.variables.geosearchUrlEspaciosProductivos, this.config.variables.atributosBusqueda);\n\n\n    //console.log(this.map_.getPanels('panelSearchPanel'));\n    this.map_.getPanels('panelSearchPanel')[0].on(M.evt.SHOW, () => {\n      document.querySelectorAll('div.m-area.m-bottom.m-right')[0].style.display = 'none';\n\n    });\n\n    this.map_.getPanels('panelSearchPanel')[0].on(M.evt.HIDE, () => {\n      document.querySelectorAll('div.m-area.m-bottom.m-right')[0].style.display = 'flex';\n\n    });\n\n\n\n  }\n\n  /**\n   * This function is called on the control activation\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  activate() {\n    // calls super to manage de/activation\n    super.activate();\n\n  }\n  /**\n   * This function is called on the control deactivation\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  deactivate() {\n    // calls super to manage de/activation\n    super.deactivate();\n\n  }\n  /**\n   * This function gets activation button\n   *\n   * @public\n   * @function\n   * @param {HTML} html of control\n   * @api stable\n   */\n  getActivationButton(html) {\n    return html.querySelector('.m-searchpanel button');\n  }\n\n  /**\n   * This function compares controls\n   *\n   * @public\n   * @function\n   * @param {M.Control} control to compare\n   * @api stable\n   */\n  equals(control) {\n    return control instanceof SearchPanelControl;\n  }\n\n  // Add your own functions\n\n  enableButtons() {\n    this.config.selector.loadButtonEl.disabled = false;\n    this.config.selector.clearButtonEl.disabled = false;\n\n  }\n\n  // Petición a geosearch con los valores distintos, recuperando solo los atributos deseados\n\n  getData(url, listaAtributos) {\n    let atributos\n\n    for (let index = 0; index < listaAtributos.length; index++) {\n      if (index == 0) {\n        atributos = listaAtributos[index];\n      } else {\n        atributos = atributos + \"+\" + listaAtributos[index];\n      }\n    }\n\n\n\n    let urlBusqueda = url + \"*:*&rows=1000000&start=0&srs=EPSG:25830&fl=\" + atributos\n\n\n    M.remote.get(urlBusqueda).then((res) => {\n      let myJsonResponse = JSON.parse(res.text);\n      let myDocs = myJsonResponse.response.docs;\n      this.makeObject(myDocs);\n\n      this.config.variables.arrayTipologias = [...new Set(myDocs.map(item => item.tipologia))];\n      this.config.variables.arrayProvincias = [...new Set(myDocs.map(item => item.provincia))];\n\n      for (let index = 0; index < this.config.variables.arrayProvincias.length; index++) {\n        const element = this.config.variables.arrayProvincias[index];\n        let arrayMunicipiosByProvincias = myDocs.filter(v => v.provincia == element);\n\n        let unique = [...new Set(arrayMunicipiosByProvincias.map(item => item.municipio))];\n        let myObject = {\n          provincia: element,\n          municipios: unique\n        };\n        this.config.variables.arrayMunicipiosByProvincias.push(myObject);\n\n      }\n\n    }).then(() => {\n      if (this.config.variables.arrayProvincias.length != 0) {\n        this.rellenaProvincia(this.config.variables.arrayProvincias);\n      }\n      if (this.config.variables.arrayTipologias.length != 0) {\n        this.rellenaTipologia(this.config.variables.arrayTipologias);\n      }\n    })\n\n  }\n\n  // Generación de objetos recuperados del geosearch\n  makeObject(listaRecuperada) {\n    for (let index = 0; index < listaRecuperada.length; index++) {\n      const element = listaRecuperada[index];\n      let myObjets = {\n        provincia: element['provincia'],\n        municipio: element[\"municipio\"],\n        solrid: element[\"solrid\"],\n        tipologia: element[\"tipologia\"]\n      };\n      this.config.variables.arrayObjetosRecuperados.push(myObjets);\n    }\n\n  }\n\n  rellenaProvincia(arrayProvincias) {\n    this.addOptionsSelect(arrayProvincias, \"selectProvinciasEspaciosProductivos\", \"Todas las Provincias\");\n    this.addOptionsSelect(arrayProvincias, \"selectProvinciasParcelas\", \"Todas las Provincias\");\n\n  }\n\n  rellenaTipologia(arrayTipologias) {\n    this.addOptionsSelect(arrayTipologias, \"selectTipologiaEspaciosProductivos\", \"Todas las Tipologías\");\n  }\n\n  // Función apra actualizar municipios en función de provincia seleccionada\n  actualizoMunicipio(e, IdSelectListaMunicipios) {\n    let listadoMuncipio = new Array()\n    document.getElementById(IdSelectListaMunicipios).innerHTML = '';\n\n    for (let index = 0; index < e.length; index++) {\n      const element = e[index];\n      if (e == \"*\") {\n        for (let index = 0; index < this.config.variables.arrayMunicipiosByProvincias.length; index++) {\n          const provincias = this.config.variables.arrayMunicipiosByProvincias[index];\n          listadoMuncipio = listadoMuncipio.concat(provincias.municipios);\n        }\n      } else {\n        let listadoMuncipioByProvincias = this.config.variables.arrayMunicipiosByProvincias.filter(v => v.provincia == element);\n        listadoMuncipio = listadoMuncipio.concat(listadoMuncipioByProvincias[0].municipios);\n      } listadoMuncipio = listadoMuncipio.sort(function (a, b) {\n        return a.localeCompare(b);\n      })\n    }\n    this.addOptionsSelect(listadoMuncipio, IdSelectListaMunicipios, \"Todos los Municipios\");\n  }\n\n  // Función generica para actualzar options selects\n  addOptionsSelect(arrayOptions, idSelect, allText) {\n    let select = document.getElementById(idSelect);\n\n    let opt = document.createElement('option');\n    opt.appendChild(document.createTextNode(allText));\n    opt.value = 'all';\n    opt.selected = true;\n    select.appendChild(opt);\n    for (let i = 0; i < arrayOptions.length; i++) {\n      opt = document.createElement('option');\n      opt.appendChild(document.createTextNode(arrayOptions[i]));\n      opt.value = arrayOptions[i];\n      select.appendChild(opt)\n    }\n    select.disabled = false;\n  }\n\n  getSelectedSolrId(selectedProvincias, selectedMunicipios) {\n    if (this.config.variables.activedPanel == 'espaciosProductivos') {\n      this.config.variables.selectedSolridEspaciosProductivos = new Array()\n      if (selectedMunicipios.includes(\"all\")) {\n        for (let index = 0; index < selectedProvincias.length; index++) {\n          const element = selectedProvincias[index];\n          let arrayFilter = this.config.variables.arrayObjetosRecuperados.filter(obj => {\n            return obj.provincia === element\n          });\n          for (let index = 0; index < arrayFilter.length; index++) {\n            this.config.variables.selectedSolridEspaciosProductivos.push(arrayFilter[index]);\n          }\n        }\n      } else {\n        for (let index = 0; index < selectedMunicipios.length; index++) {\n          const element = selectedMunicipios[index];\n          let arrayFilter = this.config.variables.arrayObjetosRecuperados.filter(obj => {\n            return obj.municipio === element\n          });\n\n          for (let index = 0; index < arrayFilter.length; index++) {\n            this.config.variables.selectedSolridEspaciosProductivos.push(arrayFilter[index]);\n          }\n        }\n      }\n    }\n\n    if (this.config.variables.activedPanel == 'parcelas') {\n\n      this.config.variables.selectedSolridParcelas = new Array()\n      if (selectedMunicipios.includes(\"all\")) {\n        for (let index = 0; index < selectedProvincias.length; index++) {\n          const element = selectedProvincias[index];\n\n          let arrayFilter = this.config.variables.arrayObjetosRecuperados.filter(obj => {\n            return obj.provincia === element\n          });\n\n          for (let index = 0; index < arrayFilter.length; index++) {\n            this.config.variables.selectedSolridParcelas.push(arrayFilter[index]);\n          }\n        }\n      } else {\n        for (let index = 0; index < selectedMunicipios.length; index++) {\n          const element = selectedMunicipios[index];\n          let arrayFilter = this.config.variables.arrayObjetosRecuperados.filter(obj => {\n            return obj.municipio === element\n          });\n\n          for (let index = 0; index < arrayFilter.length; index++) {\n            this.config.variables.selectedSolridParcelas.push(arrayFilter[index]);\n          }\n        }\n      }\n\n    }\n\n\n  }\n\n\n  mappingSupSolar(value) {\n    let result = null;\n    switch (value) {\n      case \"1\": result = \"Menor de 2.000 m²\";\n        break\n      case \"2\": result = \"Entre 2.000 m² y 5.000 m²\";\n        break;\n      case \"3\": result = \"Entre 5000 m² y 10.000 m²\";\n        break;\n      case \"4\": result = \"Mayor de 10.000 m²\";\n        break;\n    }\n    return result\n  }\n\n  wrapComplexFeature(feature) {\n    const featureGeom = feature.getGeometry();\n    if (featureGeom.getType() === M.geom.wkt.type.POLYGON || featureGeom.getType() === M.geom.wkt.type.MULTI_POLYGON) {\n      let centroid;\n      if (featureGeom.getType() === M.geom.wkt.type.POLYGON) {\n        centroid = featureGeom.getInteriorPoint();\n      } else {\n        centroid = featureGeom.getInteriorPoints();\n      }\n      const geometryCollection = new ol.geom.GeometryCollection([centroid, featureGeom,]);\n      feature.setGeometry(geometryCollection);\n    }\n  }\n\n  showBuscadorArea() {\n    this.showBuscadorEspacioProductivo();\n    this.config.selector.buscadorAreaEl.style.display = \"block\";\n    this.config.selector.resultadosBusquedaEl.style.display = \"none\";\n  }\n\n  hideBuscadorArea() {\n    this.config.selector.buscadorAreaEl.style.display = \"none\";\n    this.config.selector.resultadosBusquedaEl.style.display = \"none\";\n  }\n\n  showBuscadorEspacioProductivo() {\n    this.clear();\n\n    this.config.selector.buscarEspacioProductivoEl.classList.add(\"actived\");\n    this.config.selector.buscarEmpresaEl.classList.remove(\"actived\");\n    this.config.selector.buscarParcelaEl.classList.remove(\"actived\");\n    this.config.selector.buscadorEspaciosProductivosEl.style.display = \"block\";\n    this.config.selector.buscadorEstablecimientosEl.style.display = \"none\";\n    this.config.selector.buscadorParcelasEl.style.display = \"none\";\n    this.config.selector.resultadosBusquedaEl.style.display = \"none\";\n    this.config.selector.paginationEl.style.display = \"none\";\n    this.config.selector.textboxEstablecimientoEl.value = \"\";\n    this.config.selector.textboxEspacioProductivoParcelasEl.value = \"\";\n    this.config.variables.activedPanel = \"espaciosProductivos\";\n  }\n\n  showBuscadorEmpresas() {\n    this.clear();\n    this.config.selector.buscarEmpresaEl.classList.add(\"actived\");\n    this.config.selector.buscarEspacioProductivoEl.classList.remove(\"actived\");\n    this.config.selector.buscadorEspaciosProductivosEl.style.display = \"none\";\n    this.config.selector.buscarParcelaEl.classList.remove(\"actived\");\n    this.config.selector.buscadorParcelasEl.style.display = \"none\";\n    this.config.selector.resultadosBusquedaEl.style.display = \"none\";\n    this.config.selector.paginationEl.style.display = \"none\";\n    this.config.selector.buscadorEstablecimientosEl.style.display = \"block\";\n\n    this.config.selector.SelectTipologiaEspaciosProductivosEl.selectedIndex = 0;\n    this.config.selector.SelectTipologiaParcelasEl.selectedIndex = 0;\n    this.config.selector.textboxNombreEspacioProductivoEl.value = \"\";\n    this.config.selector.textboxEspacioProductivoEl.value = \"\";\n    this.config.selector.textboxEspacioProductivoParcelasEl.value = \"\";\n    this.config.selector.SelectActividadEl.selectedIndex = 0;\n    this.config.selector.textboxEstablecimientoEl.value = \"\";\n    this.config.variables.activedPanel = \"empresas\";\n  }\n\n  showBuscadorParcelas() {\n\n    this.clear();\n    this.config.selector.buscarParcelaEl.classList.add(\"actived\");\n    this.config.selector.buscarEspacioProductivoEl.classList.remove(\"actived\");\n    this.config.selector.buscadorEspaciosProductivosEl.style.display = \"none\";\n    this.config.selector.buscarEmpresaEl.classList.remove(\"actived\");\n    this.config.selector.buscadorEstablecimientosEl.style.display = \"none\";\n    this.config.selector.resultadosBusquedaEl.style.display = \"none\";\n    this.config.selector.paginationEl.style.display = \"none\";\n    this.config.selector.buscadorParcelasEl.style.display = \"block\";\n\n    this.config.selector.SelectTipologiaEspaciosProductivosEl.selectedIndex = 0;\n    this.config.selector.textboxNombreEspacioProductivoEl.value = \"\";\n    this.config.selector.textboxEspacioProductivoEl.value = \"\";\n    this.config.selector.textboxEspacioProductivoParcelasEl.value = \"\";\n    this.config.selector.SelectActividadEl.selectedIndex = 0;\n    this.config.selector.textboxEstablecimientoEl.value = \"\";\n    this.config.variables.activedPanel = \"parcelas\";\n  }\n\n  clear() {\n\n    this.config.variables.selectedTipologiasEspaciosProductivos = new Array();\n\n\n\n\n    this.config.selector.selectProvinciasEspaciosProductivosEL.value = \"\";\n    this.config.selector.selectProvinciasEspaciosProductivosEL.multiple = false;\n    this.config.selector.selectProvinciasParcelasEL.value = \"\";\n    this.config.selector.selectProvinciasParcelasEL.multiple = false;\n\n    this.config.selector.SelectMunicipiosEspaciosProductivosEL.value = \"\";\n    this.config.selector.SelectMunicipiosEspaciosProductivosEL.selectedIndex = 0;\n    this.config.selector.SelectMunicipiosEspaciosProductivosEL.options[0].text = \"  -- Municipios --  \";\n    this.config.selector.SelectMunicipiosEspaciosProductivosEL.disabled = true;\n    this.config.selector.SelectMunicipiosEspaciosProductivosEL.multiple = false;\n    this.config.selector.selectedMunicipiosEspaciosProductivos = new Array()\n\n    this.config.selector.selectMunicipiosParcelasEL.value = \"\";\n    this.config.selector.selectMunicipiosParcelasEL.selectedIndex = 0;\n    this.config.selector.selectMunicipiosParcelasEL.options[0].text = \"  -- Municipios --  \";\n    this.config.selector.selectMunicipiosParcelasEL.disabled = true;\n    this.config.selector.selectMunicipiosParcelasEL.multiple = false;\n    this.config.variables.selectedMunicipiosParcelas = new Array()\n\n\n    this.config.selector.selectedTipologiasEspaciosProductivos = new Array()\n    this.config.selector.SelectTipologiaEspaciosProductivosEl.value = \"\";\n    this.config.selector.SelectTipologiaEspaciosProductivosEl.selectedIndex = 0;\n    this.config.selector.SelectTipologiaEspaciosProductivosEl.options[0].text = \"  -- Tipologías --  \";\n    this.config.selector.SelectTipologiaEspaciosProductivosEl.selectedIndex = 0;\n    this.config.selector.SelectTipologiaEspaciosProductivosEl.multiple = false;\n    this.config.selector.SelectSubTipologiaEspaciosProductivosEl.selectedIndex = 0;\n    this.config.selector.SelectTipologiaParcelasEl.multiple = false;\n    this.config.selector.SelectTipologiaParcelasEl.selectedIndex = 0;\n    this.config.selector.textboxNombreEspacioProductivoEl.value = \"\";\n    this.config.selector.textboxEstablecimientoEl.value = \"\";\n    this.config.selector.textboxEspacioProductivoEl.value = \"\";\n    this.config.selector.textboxEspacioProductivoParcelasEl.value = \"\";\n    this.config.selector.SelectActividadEl.selectedIndex = 0;\n    this.config.selector.textboxEstablecimientoEl.value = \"\";\n    this.config.selector.loadButtonEl.disabled = true;\n    this.config.variables.totalRecords = null;\n    this.config.variables.page_number = 1;\n    this.config.variables.page_total = null;\n    this.config.variables.espaciosProductivosList = new Array();\n    this.config.selector.clearButtonEl.disabled = true;\n    this.config.selector.resultadosBusquedaEl.style.display = \"none\";\n\n\n\n    if (this.config.variables.activedPanel == \"empresas\") {\n      this.config.selector.buscadorEspaciosProductivosEl.style.display = \"none\";\n      this.config.selector.buscadorParcelasEl.style.display = \"none\";\n      this.config.selector.buscadorEstablecimientosEl.style.display = \"block\";\n    }\n    if (this.config.variables.activedPanel == \"espaciosProductivos\") {\n\n      this.config.selector.buscadorEstablecimientosEl.style.display = \"none\";\n      this.config.selector.buscadorParcelasEl.style.display = \"none\";\n      this.config.selector.buscadorEspaciosProductivosEl.style.display = \"block\";\n    }\n    if (this.config.variables.activedPanel == \"parcelas\") {\n      this.config.selector.buscadorEstablecimientosEl.style.display = \"none\";\n      this.config.selector.buscadorEspaciosProductivosEl.style.display = \"none\";\n      this.config.selector.buscadorParcelasEl.style.display = \"block\";\n    }\n\n\n    this.config.selector.paginationEl.style.display = \"none\";\n    this.map_.removeLayers(this.config.variables.capaGeoJSON);\n    this.config.variables.capaGeoJSON = null;\n  }\n\n  search() {\n\n\n\n    this.config.variables.selectedProvinciasEspaciosProductivos = new Array()\n    this.config.variables.selectedMunicipiosEspaciosProductivos = new Array()\n    this.config.variables.selectedTipologiaEspaciosProductivos = new Array()\n    this.config.variables.selectedProvinciasParcelas = new Array()\n    this.config.variables.selectedMunicipiosParcelas = new Array()\n    this.config.variables.selectedTipologiaParcelas = new Array()\n\n\n\n\n\n    for (let option of this.config.selector.selectProvinciasEspaciosProductivosEL.options) {\n      if (option.selected) {\n\n        this.config.variables.selectedProvinciasEspaciosProductivos.push(option.value);\n      }\n    }\n    if (this.config.variables.selectedProvinciasEspaciosProductivos.indexOf(\"all\") != -1) {\n      this.config.variables.selectedProvinciasEspaciosProductivos = [\"all\"]\n    }\n\n\n    for (let option of this.config.selector.SelectMunicipiosEspaciosProductivosEL.options) {\n      if (option.selected) {\n\n        this.config.variables.selectedMunicipiosEspaciosProductivos.push(option.value);\n      }\n    }\n    if (this.config.variables.selectedMunicipiosEspaciosProductivos.indexOf(\"all\") != -1) {\n      this.config.variables.selectedMunicipiosEspaciosProductivos = [\"all\"]\n    }\n\n    for (let option of this.config.selector.SelectTipologiaEspaciosProductivosEl.options) {\n      if (option.selected) {\n\n        this.config.variables.selectedTipologiaEspaciosProductivos.push(option.value);\n      }\n    }\n\n    if (this.config.variables.selectedTipologiaEspaciosProductivos.indexOf(\"all\") != -1) {\n      this.config.variables.selectedTipologiaEspaciosProductivos = [\"all\"]\n    }\n\n    //Javier Parcelas\n\n    for (let option of this.config.selector.selectProvinciasParcelasEL.options) {\n      if (option.selected) {\n        this.config.variables.selectedProvinciasParcelas.push(option.value);\n      }\n    }\n    if (this.config.variables.selectedProvinciasParcelas.indexOf(\"all\") != -1) {\n      this.config.variables.selectedProvinciasParcelas = [\"*\"]\n    }\n\n\n    for (let option of this.config.selector.selectMunicipiosParcelasEL.options) {\n      if (option.selected) {\n        this.config.variables.selectedMunicipiosParcelas.push(option.value);\n      }\n    }\n    if (this.config.variables.selectedMunicipiosParcelas.indexOf(\"all\") != -1) {\n      this.config.variables.selectedMunicipiosParcelas = [\"*\"]\n    }\n\n    for (let option of this.config.selector.SelectTipologiaParcelasEl.options) {\n      if (option.selected) {\n        this.config.variables.selectedTipologiaParcelas.push(option.value);\n      }\n    }\n    if (this.config.variables.selectedTipologiaParcelas.indexOf(\"all\") != -1) {\n      this.config.variables.selectedTipologiaParcelas = [\"*\"]\n    }\n\n\n\n\n    //fin Javier\n\n    let geosearchUrl = null;\n    let query = \"\";\n    this.config.variables.totalRecords = null;\n    this.config.variables.page_number = 1;\n    this.config.variables.page_total = null;\n    this.config.variables.espaciosProductivosList = new Array();\n    let fieldList = new Array();\n\n    if (this.config.variables.activedPanel == 'espaciosProductivos') {\n      this.getSelectedSolrId(this.config.variables.selectedProvinciasEspaciosProductivos, this.config.variables.selectedMunicipiosEspaciosProductivos);\n    }\n\n\n    if (this.config.variables.activedPanel == 'parcelas') {\n      this.getSelectedSolrId(this.config.variables.selectedProvinciasParcelas, this.config.variables.selectedMunicipiosParcelas);\n    }\n\n\n    let provinciaParcela = this.config.variables.selectedProvinciasParcelas;\n    let municipioParcela = this.config.variables.selectedMunicipiosParcelas;\n    let tipologiaParcelas = this.config.variables.selectedTipologiaParcelas;\n    let espacioProductivo = this.config.selector.textboxEspacioProductivoEl.value;\n    let espacioProductivoParcelas = this.config.selector.textboxEspacioProductivoParcelasEl.value;\n    let actividad = this.config.selector.SelectActividadEl.value;\n    let establecimiento = this.config.selector.textboxEstablecimientoEl.value;\n\n    if (this.config.variables.activedPanel == \"empresas\") {\n      geosearchUrl = this.config.variables.geosearchUrlDirectorioEmpresas;\n      if (espacioProductivo != \"\") {\n        fieldList.push(\"nombre:\" + '\"' + espacioProductivo + '\"');\n      }\n      if (actividad != \"\") {\n        fieldList.push(\"actividad:\" + '\"' + actividad + '\"');\n      }\n      if (establecimiento != \"\") {\n        fieldList.push(\"razon_soci:\" + '\"' + establecimiento + '\"');\n      }\n    }\n\n    if (this.config.variables.activedPanel == \"espaciosProductivos\") {\n      geosearchUrl = this.config.variables.geosearchUrlEspaciosProductivos;\n\n\n      if (this.config.variables.selectedSolridEspaciosProductivos.length != 0) {\n        let query = \"\"\n        for (let index = 0; index < this.config.variables.selectedSolridEspaciosProductivos.length; index++) {\n          const element = this.config.variables.selectedSolridEspaciosProductivos[index];\n          if (index == 0) {\n            query = query + \"solrid:\\\"\" + element.solrid + \"\\\"\"\n          } else {\n            query = query + \" OR solrid:\\\"\" + element.solrid + \"\\\"\"\n          }\n        }\n        fieldList.push(query)\n      }\n      if (this.config.variables.selectedTipologiasEspaciosProductivos.length != 0) {\n        let query = \"\"\n        for (let index = 0; index < this.config.variables.selectedTipologiasEspaciosProductivos.length; index++) {\n          const element = this.config.variables.selectedTipologiasEspaciosProductivos[index];\n\n          if (element == \"*\" && index == 0) {\n            query = query + \"tipologia:\" + element\n          } else if (index == 0 && element != \"*\") {\n            query = query + \"tipologia:\\\"\" + element + \"\\\"\"\n          } else {\n            query = query + \" OR tipologia:\\\"\" + element + \"\\\"\"\n          }\n        }\n        fieldList.push(query)\n      }\n\n      if (this.config.selector.textboxNombreEspacioProductivoEl.value != \"\") {\n        fieldList.push(\"nombre: \\\"\" + this.config.selector.textboxNombreEspacioProductivoEl.value + \"\\\"\")\n      }\n\n\n      if (fieldList.length == 0) {\n        M.dialog.error(\"Debe introducir almenos un parámetro de búsqueda\");\n      }\n    }\n    if (this.config.variables.activedPanel == \"parcelas\") {\n      geosearchUrl = this.config.variables.geosearchUrlParcelas;\n      if (provinciaParcela.length != 0) {\n        query += \"(provincia:\";\n        for (let i = 0; i < provinciaParcela.length; i++) {\n          if (i == provinciaParcela.length - 1) {\n            query += '\"' + provinciaParcela[i] + '\")';\n          } else {\n            query += '\"' + provinciaParcela[i] + '\",';\n          }\n        }\n      }\n      if (municipioParcela.length != 0) {\n        query += \"AND(municipio:\";\n        for (let i = 0; i < municipioParcela.length; i++) {\n          if (i == municipioParcela.length - 1) {\n            query += '\"' + municipioParcela[i] + '\")';\n          } else {\n            query += '\"' + municipioParcela[i] + '\",';\n          }\n        }\n      }\n      if (tipologiaParcelas.length != 0) {\n        fieldList.push(\"rango:\" + '\"' + tipologiaParcelas + '\"');\n        query += \"AND(rango:\";\n        for (let i = 0; i < tipologiaParcelas.length; i++) {\n          if (i == tipologiaParcelas.length - 1) {\n            query += '\"' + tipologiaParcelas[i] + '\")';\n          } else {\n            query += '\"' + tipologiaParcelas[i] + '\",';\n          }\n        }\n      }\n      if (espacioProductivoParcelas != \"\") {\n        query += \"AND(nombre:\" + '\"' + espacioProductivoParcelas + '\")';\n      }\n    }\n\n    if ((this.config.variables.activedPanel == \"espaciosProductivos\") || (this.config.variables.activedPanel == \"empresas\")) {\n      if (fieldList.length == 1) {\n        query = \"(\" + fieldList[0] + \")\";\n      } else {\n        for (let i = 0; i < fieldList.length; i++) {\n          if (i == fieldList.length - 1) {\n            query += \"(\" + fieldList[i] + \")\";\n          } else {\n            query += \"(\" + fieldList[i] + \")\" + \" AND \";\n          }\n        }\n      }\n    }\n\n\n\n    M.remote.get(geosearchUrl + encodeURI(query) + this.config.variables.otherParameters).then((res) => {\n\n      this.config.variables.arrayFeaturesMapeaGeoJSON = new Array();\n      let respuestaGeosearch = JSON.parse(res.text);\n      const projection = ol.proj.get(this.map_.getProjection().code);\n\n      respuestaGeosearch.response.docs.forEach((elemento) => {\n        const feature = this.config.variables.wktFormatter_.readFeature(elemento.geom, { dataProjection: projection });\n        feature.setId(elemento.solrid);\n        feature.setProperties(elemento);\n        this.wrapComplexFeature(feature);\n        const featureMapea = M.impl.Feature.olFeature2Facade(feature);\n        featureMapea.setAttribute(\"geom\", null);\n\n        this.config.variables.arrayFeaturesMapeaGeoJSON.push(featureMapea.getGeoJSON());\n      });\n\n      this.showResult(this.config.variables.arrayFeaturesMapeaGeoJSON);\n\n    });\n  }\n\n  paginate(array, page_size, page_number) {\n    return array.slice((page_number - 1) * page_size, page_number * page_size);\n  }\n\n\n\n  showResult(data) {\n\n    this.config.selector.resultadosBusquedaEl.style.display = \"block\";\n    this.config.selector.buscadorEspaciosProductivosEl.style.display = \"none\";\n    this.config.selector.buscadorEstablecimientosEl.style.display = \"none\";\n    this.config.selector.buscadorParcelasEl.style.display = \"none\";\n\n    this.config.variables.dataList = new Array();\n    this.config.variables.totalRecords = data.length;\n\n    if (this.config.variables.totalRecords > 0) {\n      this.config.variables.dataList = data;\n      this.config.selector.paginationEl.style.display = \"block\";\n      if (this.config.variables.totalRecords % this.config.variables.maxRecordsPage == 0) {\n        this.config.variables.page_total = this.config.variables.totalRecords / this.config.variables.maxRecordsPage;\n      } else {\n        this.config.variables.page_total = Math.floor(this.config.variables.totalRecords / this.config.variables.maxRecordsPage) + 1;\n\n      }\n\n      let paginatedRecords = this.paginate(this.config.variables.dataList, this.config.variables.maxRecordsPage, this.config.variables.page_number);\n\n      let htmlTable = this.createHtmlTable(paginatedRecords, this.config.variables.activedPanel);\n\n      this.createPaginationHTML();\n\n      this.config.selector.resultsEl.innerHTML = htmlTable;\n      this.config.selector.loadButtonEl.disabled = true;\n\n    } else {\n      this.config.selector.resultsEl.innerHTML = '<table class=\"center\">\\n' + \"<tbody>\\n\" + \"<tr>\\n\" + '<th class=\"noResults\" colspan=\"2\">\\n' + \"<p>No se ha encontrado ningún resultado</p>\\n\" + \"</th>\\n\" + \"</tr>\\n\" + \"</tbody>\\n\" + \"</table>\";\n\n      this.config.selector.recordsNumberEl.textContent = \"0\";\n      this.config.selector.recordsTotalEl.textContent = \"0\";\n      this.config.selector.nextPageEl.style.visibility = \"hidden\";\n      this.config.selector.previusPageEl.style.visibility = \"hidden\";\n      this.config.selector.paginationEl.style.display = \"block\";\n    }\n\n\n  }\n\n  createHtmlTable(dataList, activedPanel) {\n\n    let htmlResult = \"\";\n    if (activedPanel == \"espaciosProductivos\") {\n      for (let i = 0; i < dataList.length; i++) {\n        let infoEspacioProductivo = dataList[i];\n        htmlResult += '<table id=\"' + infoEspacioProductivo.properties[\"solrid\"] + '\" class=\"result\">\\n<tbody class=\"pointer-none\">\\n<tr class=\"rowResult\" >\\n<td class=\"key\">Nombre</td>\\n<td class=\"value\">' + infoEspacioProductivo.properties[\"nombre\"] + '</td>\\n</tr>\\n<tr class=\"rowResult\">\\n<td class=\"key\">Tipología</td>\\n<td class=\"value\">' + infoEspacioProductivo.properties[\"tipologia\"] + '</td>\\n</tr>\\n<tr  class=\"rowResult\">\\n<td class=\"key\">Provincia</td>\\n<td class=\"value\">' + infoEspacioProductivo.properties[\"provincia\"] + '</td>\\n</tr>\\n<tr class=\"rowResult\">\\n<td class=\"key\">Municipio</td>\\n<td class=\"value\">' + infoEspacioProductivo.properties[\"municipio\"] + \"</td>\\n</tr>\\n</tbody>\\n</table>\\n\";\n      }\n    }\n    if (activedPanel == \"empresas\") {\n      for (let i = 0; i < dataList.length; i++) {\n        let infoEstablecmimiento = dataList[i];\n        htmlResult += '<table id=\"' + infoEstablecmimiento.properties[\"solrid\"] + '\" class=\"result\">\\n<tbody class=\"pointer-none\">\\n<tr class=\"rowResult\" >\\n<td class=\"key\">Nombre</td>\\n<td class=\"value\">' + infoEstablecmimiento.properties[\"razon_soci\"] + '</td>\\n</tr>\\n<tr class=\"rowResult\">\\n<td class=\"key\">Actividad</td>\\n<td class=\"value\">' + infoEstablecmimiento.properties[\"actividad\"] + '</td>\\n</tr>\\n<tr  class=\"rowResult\">\\n<td class=\"key\">Asalariados</td>\\n<td class=\"value\">' + infoEstablecmimiento.properties[\"estrato\"] + '</td>\\n</tr>\\n<tr  class=\"rowResult\">\\n<td class=\"key\">Dirección</td>\\n<td class=\"value\">' + infoEstablecmimiento.properties[\"direccion\"] + '</td>\\n</tr>\\n<tr class=\"rowResult\">\\n<td class=\"key\">Espacio Productivo</td>\\n<td class=\"value\">' + infoEstablecmimiento.properties[\"nombre\"] + \"</td>\\n</tr>\\n</tbody>\\n</table>\\n\";\n      }\n    }\n    if (activedPanel == \"parcelas\") {\n      for (let i = 0; i < dataList.length; i++) {\n        let infoParcelas = dataList[i];\n        htmlResult += '<table id=\"' + infoParcelas.properties[\"solrid\"] + '\" class=\"result\" style=\"0px\">\\n<tbody  class=\"pointer-none\">\\n<tr class=\"rowResult\" >\\n<td class=\"key\">Espacio Productivo</td>\\n<td class=\"value\">' + infoParcelas.properties[\"nombre\"] + '</td>\\n</tr>\\n<tr class=\"rowResult\">\\n<td class=\"key\">Municipio</td>\\n<td class=\"value\">' + infoParcelas.properties[\"municipio\"] + '</td>\\n</tr>\\n<tr  class=\"rowResult\">\\n<td class=\"key\">Provincia</td>\\n<td class=\"value\">' + infoParcelas.properties[\"provincia\"] + '</td>\\n</tr>\\n<tr  class=\"rowResult\">\\n<td class=\"key\">Superficie m²</td>\\n<td class=\"value\">' + infoParcelas.properties[\"solares\"] + ' m²' + '</td>\\n</tr>\\n<tr  class=\"rowResult\">\\n<td class=\"key\">Tipología Solar</td>\\n<td class=\"value\">' + this.mappingSupSolar(infoParcelas.properties[\"rango\"]) + '</td>\\n</tr>\\n</tbody>\\n</table>\\n' + '<table class=\"refCatResult\"><tbody class=\"pointer-none\">\\n<tr class=\"refCatResult\">\\n<td class=\"key\">Referencia Catastral</td>\\n<td class=\"value refCat\">' + infoParcelas.properties[\"refcat\"] + '</td>\\n</tr>\\n</tbody>\\n</table>\\n';\n      }\n    }\n    return htmlResult;\n  }\n\n  createPaginationHTML() {\n    this.config.selector.recordsTotalEl.textContent = this.config.variables.totalRecords;\n    if (this.config.variables.totalRecords < this.config.variables.maxRecordsPage) {\n      this.config.selector.recordsNumberEl.textContent = this.config.variables.totalRecords;\n    } else {\n      this.config.selector.recordsNumberEl.textContent = \"1 - \" + this.config.variables.maxRecordsPage;\n    }\n    if (this.config.variables.page_total > 1) {\n      this.config.selector.nextPageEl.style.visibility = \"visible\";\n    } else {\n      this.config.selector.previusPageEl.style.visibility = \"hidden\";\n      this.config.selector.nextPageEl.style.visibility = \"hidden\";\n    }\n  }\n\n  previusPage() {\n    this.config.variables.page_number -= 1;\n    let paginatedRecords = this.paginate(this.config.variables.dataList, this.config.variables.maxRecordsPage, this.config.variables.page_number);\n    let htmlRecords = this.createHtmlTable(paginatedRecords, this.config.variables.activedPanel);\n    this.config.selector.resultsEl.innerHTML = htmlRecords;\n    if (this.config.variables.page_number == 1) {\n      this.config.selector.recordsNumberEl.textContent = \"1 - \" + this.config.variables.page_number * this.config.variables.maxRecordsPage;\n      this.config.selector.previusPageEl.style.visibility = \"hidden\";\n      this.config.selector.nextPageEl.style.visibility = \"visible\";\n    } else {\n      this.config.selector.recordsNumberEl.textContent = this.config.variables.page_number * this.config.variables.maxRecordsPage - (this.config.variables.maxRecordsPage - 1) + \" - \" + this.config.variables.page_number * this.config.variables.maxRecordsPage;\n      this.config.selector.previusPageEl.style.visibility = \"visible\";\n      this.config.selector.nextPageEl.style.visibility = \"visible\";\n    }\n  }\n  nextPage() {\n    this.config.variables.page_number += 1;\n    let paginatedRecords = this.paginate(this.config.variables.dataList, this.config.variables.maxRecordsPage, this.config.variables.page_number);\n    let htmlRecords = this.createHtmlTable(paginatedRecords, this.config.variables.activedPanel);\n    this.config.selector.resultsEl.innerHTML = htmlRecords;\n    if (this.config.variables.page_number == this.config.variables.page_total) {\n      this.config.selector.recordsNumberEl.textContent = this.config.variables.totalRecords;\n      this.config.selector.previusPageEl.style.visibility = \"visible\";\n      this.config.selector.nextPageEl.style.visibility = \"hidden\";\n    } else {\n      this.config.selector.recordsNumberEl.textContent = this.config.variables.page_number * this.config.variables.maxRecordsPage - (this.config.variables.maxRecordsPage - 1) + \" - \" + this.config.variables.page_number * this.config.variables.maxRecordsPage;\n      this.config.selector.previusPageEl.style.visibility = \"visible\";\n      this.config.selector.nextPageEl.style.visibility = \"visible\";\n    }\n  }\n\n}","/**\n * @module M/plugin/SearchPanel\n */\nimport 'assets/css/searchpanel';\nimport SearchPanelControl from './searchpanelcontrol';\nimport api from '../../api.json';\n\nexport default class SearchPanel extends M.Plugin {\n  /**\n   * @classdesc\n   * Main facade plugin object. This class creates a plugin\n   * object which has an implementation Object\n   *\n   * @constructor\n   * @extends {M.Plugin}\n   * @param {Object} impl implementation object\n   * @api stable\n   */\n  constructor(config) {\n    super();\n    /**\n     * Facade of the map\n     * @private\n     * @type {M.Map}\n     */\n    this.map_ = null;\n    this.config = config;\n\n    /**\n     * Array of controls\n     * @private\n     * @type {Array<M.Control>}\n     */\n    this.controls_ = [];\n\n    /**\n     * Metadata from api.json\n     * @private\n     * @type {Object}\n     */\n    this.metadata_ = api.metadata;\n  }\n\n  /**\n   * This function adds this plugin into the map\n   *\n   * @public\n   * @function\n   * @param {M.Map} map the map to add the plugin\n   * @api stable\n   */\n  addTo(map) {\n    this.controls_.push(new SearchPanelControl(this.config));\n    this.controls_.push(this.control_);\n    this.map_ = map;\n    // panel para agregar control - no obligatorio\n    this.panel_ = new M.ui.Panel('panelSearchPanel', {\n      collapsible: true,\n      className: 'm-searchpanel',\n      position: M.ui.position.TR,       \n      collapsedButtonClass: 'g-cartografia-prismaticos',\n    });\n    this.panel_.addControls(this.controls_);\n    map.addPanels(this.panel_);\n  }\n\n  /**\n   * This function gets metadata plugin\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  getMetadata(){\n    return this.metadata_;\n  }\n}\n","import M$plugin$SearchPanel from 'C:/proyectos/searchpanel/src/facade/js/searchpanel';\nimport M$control$SearchPanelControl from 'C:/proyectos/searchpanel/src/facade/js/searchpanelcontrol';\nimport M$impl$control$SearchPanelControl from 'C:/proyectos/searchpanel/src/impl/ol/js/searchpanelcontrol';\n\nif (!window.M.plugin) window.M.plugin = {};\nif (!window.M.control) window.M.control = {};\nif (!window.M.impl) window.M.impl = {};\nif (!window.M.impl.control) window.M.impl.control = {};\nwindow.M.plugin.SearchPanel = M$plugin$SearchPanel;\nwindow.M.control.SearchPanelControl = M$control$SearchPanelControl;\nwindow.M.impl.control.SearchPanelControl = M$impl$control$SearchPanelControl;\n"],"sourceRoot":""}