!function(e){var i={};function o(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=i,o.d=function(e,i,t){o.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,i){if(1&i&&(e=o(e)),8&i)return e;if(4&i&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var s in e)o.d(t,s,function(i){return e[i]}.bind(null,s));return t},o.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(i,"a",i),i},o.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},o.p="",o(o.s=3)}([function(e,i){e.exports='<div id="div-contenedor" class="m-control m-container m-searchpanel">\n  <div id="buscador-panel-title">Buscador de Espacios Productivos</div>\n  <div id="opcionesBuscador">\n    <label id="buscarEspacioProductivo" class="actived">Espacios Productivos</label>\n    <label id="buscarParcela">Parcelas Libres</label>\n    <label id="buscarEmpresa">Directorio de Empresas</label>\n    <div id="buscador-panel-body">\n      <div id="buscadorEspaciosProductivos">\n        <div id="ciudadesIndustriales" class="opciones-busqueda">\n          <label class="label-opciones-busqueda" for="switchCiudadesIndustriales">Ciudades Industriales</label>\n          <label class="switchCiudadesIndustriales">\n            <input type="checkbox">\n            <span class="slider round"></span>\n          </label>\n          <span class="info-opciones">* Filtrar por Ciudades Adscritas al proyecto Ciudades Industriales</span>\n        </div>\n        <div id="provinciasEspaciosProductivos" class="opciones-busqueda">\n          <label class="label-opciones-busqueda" for="selectProvinciasEspaciosProductivos">Provincias</label>\n          <select id="selectProvinciasEspaciosProductivos" name="selectProvinciasEspaciosProductivos" class="multi">\n            <option value="" selected> -- Provincias -- </option>\n          </select>\n          <span class="info-opciones">* Seleccione Provincias</span>\n        </div>\n        <div id="municipios" class="opciones-busqueda">\n          <label class="label-opciones-busqueda" for="selectMunicipiosEspaciosProductivos">Municipios</label>\n          <select id="selectMunicipiosEspaciosProductivos" name="selectMunicipiosEspaciosProductivos" class="multi">\n            <option value="" selected> -- Municipios -- </option>\n          </select>\n          <span class="info-opciones">* Seleccione Municipios</span>\n        </div>\n        <div id="tipologia" class="opciones-busqueda">\n          <label class="label-opciones-busqueda" for="selectTipologia">Tipología</label>\n          <select id="selectTipologiaEspaciosProductivos" name="selectTipologiaEspaciosProductivos" class="multi">\n            <option value="" selected> -- Tipologías -- </option>\n          </select>\n          <span class="info-opciones">* Seleccione Tipología de Espacio Productivo</span>\n        </div>\n        <div id="subtipologia" class="opciones-busqueda">\n          <label class="label-opciones-busqueda" for="selectSubTipologia">Subtipología</label>\n          <select id="selectSubTipologiaEspaciosProductivos" name="selectSubTipologiaEspaciosProductivos">\n            <option value="" selected>Todas las Subtipologías</option>\n            <option value="subtipologia1">Subtilopogia1</option>\n            <option value="subtipologia2">Subtilopogia2</option>\n            <option value="subtipologia3">Subtilopogia3</option>\n            <option value="subtipologia4">Subtilopogia4</option>\n            <option value="subtipologia5">Subtilopogia5</option>\n            <option value="subtipologia6">Subtilopogia6</option>\n            <option value="subtipologia7">Subtilopogia7</option>\n            <option value="subtipologia8">Subtilopogia8</option>\n            <option value="subtipologia9">Subtilopogia9</option>\n            <option value="subtipologia10">Subtilopogia10</option>\n          </select>\n          <span class="info-opciones">* Seleccione una Subtipología de Espacio Productivo</span>\n        </div>\n        <div id="nombre" class="opciones-busqueda">\n          <label class="label-opciones-busqueda" for="textboxNombreEspacioProductivo">Nombre\n            Espacio\n            Productivo</label>\n          <input type="text" name="textboxNombreEspacioProductivo" id="textboxNombreEspacioProductivo" maxlength="150"\n            placeholder="Introduzca un Nombre ...">\n          <span class="info-opciones">* Escriba el nombre del Espacio Productivo</span>\n        </div>\n      </div>\n      <div id="buscadorParcelas">       \n        <div id="provinciasParcelas" class="opciones-busqueda">\n          <label class="label-opciones-busqueda" for="selectProvinciasParcelas">Provincias</label>\n          <select id="selectProvinciasParcelas" name="selectProvinciasParcelas" class="multi" disabled>\n            <option value="" selected> -- Provincias -- </option>\n          </select>\n          <span class="info-opciones">* Seleccione Provincias</span>\n        </div>\n        <div id="municipiosParcelas" class="opciones-busqueda">\n          <label class="label-opciones-busqueda" for="selectMunicipiosParcelas">Municipios</label>\n          <select id="selectMunicipiosParcelas" name="selectMunicipiosParcelas" class="multi" disabled>\n            <option value="" selected> -- Municipios -- </option>\n          </select>\n          <span class="info-opciones">* Seleccione Municipios</span>\n        </div>\n        <div id="espacioProductivoParcelas" class="opciones-busqueda">\n          <label class="label-opciones-busqueda" for="textboxEspacioProductivoParcelas">Espacio\n            Productivo</label>\n          <input id="textboxEspacioProductivoParcelas" name="textboxEspacioProductivoParcelas" type="text"\n            maxlength="150" placeholder="Espacio Productivo ...">\n          <span class="info-opciones">* Escriba el nombre del Espacio Productivo</span>\n        </div>\n        <div id="tipologiaParcela" class="opciones-busqueda">\n          <label class="label-opciones-busqueda" for="selectTipologiaParcelas">Tipología\n            Parcela</label>\n          <select id="selectTipologiaParcelas" name="selectTipologiaParcelas" class="multi">\n            <option value="" selected>Tipología Parcela...</option>\n            <option value="1">Menor de 2.000 m&sup2;</option>\n            <option value="2">Entre 2.000 m&sup2 y 5.000 m&sup2;</option>\n            <option value="3">Entre 5000 m&sup2; y 10.000 m&sup2;</option>\n            <option value="4">Mayor de 10.000 m&sup2;</option>\n          </select>\n          <span class="info-opciones">* Seleccione Tipología de Parcela</span>\n        </div>\n      </div>\n      <div id="buscadorEstablecimientos">\n        <div id="espacioProductivo" class="opciones-busqueda">\n          <label class="label-opciones-busqueda" for="textboxEspacioProductivo">Espacio\n            Productivo</label>\n          <input id="textboxEspacioProductivo" name="textboxEspacioProductivo" type="text" maxlength="150"\n            placeholder="Espacio Productivo ...">\n          <span class="info-opciones">* Escriba el nombre del Espacio Productivo</span>\n        </div>\n        <div id="actividad" class="opciones-busqueda">\n          <label class="label-opciones-busqueda" for="selectActividad">Actividad</label>\n          <select id="selectActividad" name="selectActividad">\n            <option value="" selected>Actividad ...</option>\n            <option value="Aeronaútico">Aeronaútico</option>\n            <option value="Agroalimentario (industrial, no cooperativas)">Agroalimentario\n              (industrial, no cooperativas)</option>\n            <option value="Metalurgia">Metalurgia</option>\n            <option value="Otras actividades">Otras actividades</option>\n            <option value="Productos metálicos">Productos metálicos</option>\n            <option value="Químico">Químico</option>\n            <option value="TIC">TIC</option>\n            <option value="Vehículos de transporte">Vehículos de transporte</option>\n          </select>\n          <span class="info-opciones">* Seleccione Actividad de la Empresa</span>\n        </div>\n        <div id="empresa" class="opciones-busqueda">\n          <label class="label-opciones-busqueda" for="textboxEstablecimiento">Nombre\n            Establecimiento</label>\n          <input id="textboxEstablecimiento" name="textboxEstablecimiento" type="text" maxlength="150"\n            placeholder="Establecimiento ...">\n          <span class="info-opciones">* Escriba el nombre del Establecimiento (Razón\n            Social)</span>\n        </div>\n      </div>\n      <div id="resultadosBusqueda" class="results">\n        <div id="results" class="results">\n          <table class="center">\n            <tbody>\n              <tr>\n                <th class="noResults" colspan="2">\n                  <p>No se ha encontrado ningún resultado</p>\n                </th>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n      <div id="pagination" class="page">\n        <div class="page">\n          <table style="width:100%">\n            <tbody>\n              <tr>\n                <td id="previusPage" class="g-cartografia-flecha-izquierda">Atras</td>\n                <td id="recordsInfo"><span id="recordsNumber" class="found">0</span> de\n                  <span id="recordsTotal" class="total">0</span>\n                </td>\n                <td id="nextPage" class="g-cartografia-flecha-derecha">Siguiente</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n      <div class="button">\n        <button id="loadButton" class="load" title="Buscar" disabled>\n          <i class="g-cartografia-posicion3"></i> Buscar</button>\n        <button id="clearButton" class="clear" title="Limpiar Resultados" disabled>\n          <i class="g-cartografia-check4"></i> Limpiar</button>\n      </div>\n    </div>\n  </div>\n</div>'},function(e){e.exports=JSON.parse('{"url":{"name":"SearchPanel","separator":"*"},"constructor":"M.plugin.SearchPanel","parameters":[],"files":{"ol":{"scripts":[],"styles":[]}},"metadata":{"uuid_plugin":"","uuid_version_plugin":"","version_ficha_metadatos":"","name":"SearchPanel","description":"Description of the plugin","text":"A full text about plugin","version":"1.0.0","date":"","author":"","org":"","tags":"mapea,plugin","icon":"./facade/assets/icons/icons.svg","buttons":[{"title":"","description":"","querySelector":""},{"title":"","description":"","querySelector":""}],"dependencies":{"modules":["",""],"plugins":[{"uuid":"","name":""}],"services":[{"name":"","description":""}]},"compatibility":["6.0.0"]}}')},function(e,i,o){},function(e,i,o){"use strict";o.r(i);o(2);function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function a(e,i){for(var o=0;o<i.length;o++){var t=i[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function c(){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,i,o){var t=n(e,i);if(t){var s=Object.getOwnPropertyDescriptor(t,i);return s.get?s.get.call(arguments.length<3?e:o):s.value}}).apply(this,arguments)}function n(e,i){for(;!Object.prototype.hasOwnProperty.call(e,i)&&null!==(e=d(e)););return e}function l(e,i){return(l=Object.setPrototypeOf||function(e,i){return e.__proto__=i,e})(e,i)}function r(e){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,t=d(e);if(i){var s=d(this).constructor;o=Reflect.construct(t,arguments,s)}else o=t.apply(this,arguments);return u(this,o)}}function u(e,i){if(i&&("object"===t(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),i&&l(e,i)}(u,M.impl.Control);var i,o,t,n=r(u);function u(){return s(this,u),n.apply(this,arguments)}return i=u,(o=[{key:"addTo",value:function(e,i){var o=this;e.getMapImpl().getInteractions().forEach((function(e){e instanceof ol.interaction.DoubleClickZoom&&(o.dblClickInteraction_=e)})),c(d(u.prototype),"addTo",this).call(this,e,i)}},{key:"activateClick",value:function(e){this.dblClickInteraction_.setActive(!1),e.getMapImpl().on("dblclick",(function(i){var o=new CustomEvent("mapclicked",{detail:i.coordinate,bubbles:!0});e.getContainer().dispatchEvent(o)}))}},{key:"deactivateClick",value:function(e){this.dblClickInteraction_.setActive(!0),e.getMapImpl().removeEventListener("dblclick")}}])&&a(i.prototype,o),t&&a(i,t),Object.defineProperty(i,"prototype",{writable:!1}),u}(),v=o(0),f=o.n(v);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,i){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=y(e))||i&&e&&"number"==typeof e.length){o&&(e=o);var t=0,s=function(){};return{s:s,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,n=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return c=e.done,e},e:function(e){n=!0,a=e},f:function(){try{c||null==o.return||o.return()}finally{if(n)throw a}}}}function y(e,i){if(e){if("string"==typeof e)return P(e,i);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?P(e,i):void 0}}function P(e,i){(null==i||i>e.length)&&(i=e.length);for(var o=0,t=new Array(i);o<i;o++)t[o]=e[o];return t}function E(e,i){for(var o=0;o<i.length;o++){var t=i[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function m(){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,i,o){var t=S(e,i);if(t){var s=Object.getOwnPropertyDescriptor(t,i);return s.get?s.get.call(arguments.length<3?e:o):s.value}}).apply(this,arguments)}function S(e,i){for(;!Object.prototype.hasOwnProperty.call(e,i)&&null!==(e=O(e)););return e}function x(e,i){return(x=Object.setPrototypeOf||function(e,i){return e.__proto__=i,e})(e,i)}function w(e){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,t=O(e);if(i){var s=O(this).constructor;o=Reflect.construct(t,arguments,s)}else o=t.apply(this,arguments);return T(this,o)}}function T(e,i){if(i&&("object"===b(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){!function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),i&&x(e,i)}(a,M.Control);var i,o,t,s=w(a);function a(e){var i;!function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this,a),M.utils.isUndefined(p)&&M.exception("La implementación usada no puede crear controles SearchPanelControl");var o=new p;return(i=s.call(this,o,"SearchPanel")).config=e,i}return i=a,(o=[{key:"createView",value:function(e){var i=this;return new Promise((function(e,o){var t=M.template.compileSync(f.a);i.addEvents(t),e(t)}))}},{key:"addEvents",value:function(e){var i=this,o=e.querySelectorAll("label#buscarEspacioProductivo")[0],t=e.querySelectorAll("label#buscarEmpresa")[0],s=e.querySelectorAll("label#buscarParcela")[0],a=e.querySelectorAll("div#buscadorEspaciosProductivos")[0],c=e.querySelectorAll("div#buscadorEstablecimientos")[0],n=e.querySelectorAll("div#buscadorParcelas")[0],l=e.querySelectorAll("div#resultadosBusqueda")[0],r=e.querySelectorAll("button#loadButton")[0],u=e.querySelectorAll("button#clearButton")[0],d=e.querySelectorAll("select#selectProvinciasEspaciosProductivos")[0],p=e.querySelectorAll("select#selectProvinciasParcelas")[0],v=e.querySelectorAll("select#selectMunicipiosEspaciosProductivos")[0],f=e.querySelectorAll("select#selectMunicipiosParcelas")[0],b=e.querySelectorAll("select#selectTipologiaEspaciosProductivos")[0],g=e.querySelectorAll("select#selectSubTipologiaEspaciosProductivos")[0],y=e.querySelectorAll("select#selectTipologiaParcelas")[0],P=e.querySelectorAll("input#textboxNombreEspacioProductivo")[0],E=e.querySelectorAll("select#selectActividad")[0],m=e.querySelectorAll("input#textboxEspacioProductivo")[0],S=e.querySelectorAll("input#textboxEstablecimiento")[0],x=e.querySelectorAll("input#textboxEspacioProductivoParcelas")[0],w=e.querySelectorAll("div#results")[0],T=e.querySelectorAll("div#pagination")[0],O=e.querySelectorAll("td#previusPage")[0],k=e.querySelectorAll("td#nextPage")[0],L=e.querySelectorAll("span#recordsTotal")[0],A=e.querySelectorAll("span#recordsNumber")[0],R={buscarEspacioProductivoEl:o,buscarEmpresaEl:t,buscarParcelaEl:s,buscadorEspaciosProductivosEl:a,buscadorEstablecimientosEl:c,buscadorParcelasEl:n,resultadosBusquedaEl:l,loadButtonEl:r,clearButtonEl:u,selectProvinciasEspaciosProductivosEL:d,selectProvinciasParcelasEL:p,SelectMunicipiosEspaciosProductivosEL:v,selectMunicipiosParcelasEL:f,SelectTipologiaEspaciosProductivosEl:b,SelectSubTipologiaEspaciosProductivosEl:g,SelectTipologiaParcelasEl:y,textboxNombreEspacioProductivoEl:P,SelectActividadEl:E,textboxEspacioProductivoEl:m,textboxEstablecimientoEl:S,textboxEspacioProductivoParcelasEl:x,resultsEl:w,paginationEl:T,previusPageEl:O,nextPageEl:k,recordsTotalEl:L,recordsNumberEl:A};this.config.selector=R,R={},this.config.selector.buscarEspacioProductivoEl.addEventListener("click",(function(){i.showBuscadorEspacioProductivo()})),this.config.selector.buscarEmpresaEl.addEventListener("click",(function(){i.showBuscadorEmpresas()})),this.config.selector.buscarParcelaEl.addEventListener("click",(function(){i.showBuscadorParcelas()})),this.config.selector.loadButtonEl.addEventListener("click",(function(){0==i.config.selector.loadButtonEl.disabled&&i.search()})),this.config.selector.clearButtonEl.addEventListener("click",(function(){i.clear()})),this.config.selector.selectProvinciasEspaciosProductivosEL.addEventListener("change",(function(){var e,o=new Array,t=h(d.options);try{for(t.s();!(e=t.n()).done;){var s=e.value;s.selected&&o.push(s.value)}}catch(e){t.e(e)}finally{t.f()}-1!=o.indexOf("all")&&(o=["*"]),i.actualizoMunicipio(o,"selectMunicipiosEspaciosProductivos"),i.config.selector.SelectMunicipiosEspaciosProductivosEL.disabled=!1,i.enableButtons()})),this.config.selector.selectProvinciasEspaciosProductivosEL.addEventListener("click",(function(){i.config.selector.selectProvinciasEspaciosProductivosEL.multiple=!0,i.enableButtons()})),this.config.selector.selectProvinciasParcelasEL.addEventListener("change",(function(){var e,o=new Array,t=h(p.options);try{for(t.s();!(e=t.n()).done;){var s=e.value;s.selected&&o.push(s.value)}}catch(e){t.e(e)}finally{t.f()}-1!=o.indexOf("all")&&(o=["*"]),i.actualizoMunicipio(o,"selectMunicipiosParcelas"),i.config.selector.selectMunicipiosParcelasEL.disabled=!1,i.enableButtons()})),this.config.selector.selectProvinciasParcelasEL.addEventListener("click",(function(){i.config.selector.selectProvinciasParcelasEL.multiple=!0,i.enableButtons()})),this.config.selector.SelectMunicipiosEspaciosProductivosEL.addEventListener("click",(function(){i.config.selector.SelectMunicipiosEspaciosProductivosEL.multiple=!0,i.enableButtons()})),this.config.selector.SelectMunicipiosEspaciosProductivosEL.addEventListener("change",(function(){i.config.variables.selectedMunicipiosEspaciosProductivos=new Array;var e,o=h(v.options);try{for(o.s();!(e=o.n()).done;){var t=e.value;t.selected&&i.config.variables.selectedMunicipiosEspaciosProductivos.push(t.value)}}catch(e){o.e(e)}finally{o.f()}-1!=i.config.variables.selectedMunicipiosEspaciosProductivos.indexOf("all")&&(i.config.variables.selectedMunicipiosEspaciosProductivos=["*"]),i.enableButtons()})),this.config.selector.selectMunicipiosParcelasEL.addEventListener("click",(function(){i.config.selector.selectMunicipiosParcelasEL.multiple=!0,i.enableButtons()})),this.config.selector.SelectTipologiaEspaciosProductivosEl.addEventListener("click",(function(){i.config.selector.SelectTipologiaEspaciosProductivosEl.multiple=!0,i.enableButtons()})),this.config.selector.SelectTipologiaEspaciosProductivosEl.addEventListener("change",(function(){i.config.variables.selectedTipologiasEspaciosProductivos=new Array;var e,o=h(b.options);try{for(o.s();!(e=o.n()).done;){var t=e.value;t.selected&&i.config.variables.selectedTipologiasEspaciosProductivos.push(t.value)}}catch(e){o.e(e)}finally{o.f()}-1!=i.config.variables.selectedTipologiasEspaciosProductivos.indexOf("all")&&(i.config.variables.selectedTipologiasEspaciosProductivos=["*"]),i.enableButtons()})),this.config.selector.SelectTipologiaEspaciosProductivosEl.addEventListener("input",(function(){i.enableButtons()})),this.config.selector.SelectTipologiaParcelasEl.addEventListener("click",(function(){i.config.selector.SelectTipologiaParcelasEl.multiple=!0,i.enableButtons()})),this.config.selector.textboxNombreEspacioProductivoEl.addEventListener("input",(function(){i.enableButtons()})),this.config.selector.SelectActividadEl.addEventListener("input",(function(){i.enableButtons()})),this.config.selector.textboxEspacioProductivoEl.addEventListener("input",(function(){i.enableButtons()})),this.config.selector.textboxEstablecimientoEl.addEventListener("input",(function(){i.enableButtons()})),this.config.selector.textboxEspacioProductivoParcelasEl.addEventListener("input",(function(){i.enableButtons()})),this.config.selector.resultsEl.addEventListener("click",(function(e){if(e.target.className.includes("refCat")){var o=e.target.textContent,t="https://www1.sedecatastro.gob.es/CYCBienInmueble/OVCListaBienes.aspx?del=&muni=&rc1="+o.substring(0,7)+"&rc2="+o.substring(7,14);window.open(t,"_blank")}else{var s=e.target;if(("value"==s.className||"key"==s.className)&&"Referencia Catastral"!=s.textContent){null!=i.config.variables.capaGeoJSON&&i.map_.removeLayers(i.config.variables.capaGeoJSON),i.config.variables.selectedFeatures=new Array;var a=e.target.offsetParent.id,c=!1,n=null,l=null,r=new M.style.Polygon({fill:{color:"#0000FF",opacity:.1},stroke:{color:"#FF0000",width:4}}),u=new M.style.Point({icon:{src:"https://ws205.juntadeandalucia.es/visores/espacios-productivos/logos/icono_empresas.svg",scale:1}});do{for(var d=0;d<i.config.variables.arrayFeaturesMapeaGeoJSON.length;d++)i.config.variables.arrayFeaturesMapeaGeoJSON[d].id==a&&(i.config.variables.selectedFeatures.push(i.config.variables.arrayFeaturesMapeaGeoJSON[d]),c=!0)}while(!c);"empresas"==i.config.variables.activedPanel&&(l=u,n="Resultado Búsqueda Empresas"),"espaciosProductivos"==i.config.variables.activedPanel&&(l=r,n="Resultado Búsqueda Espacios Productivo"),"parcelas"==i.config.variables.activedPanel&&(l=r,n="Resultado Búsqueda Parcelas"),i.config.variables.capaGeoJSON=new M.layer.GeoJSON({extract:!1,source:{crs:{properties:{name:"EPSG:25830"},type:"name"},features:i.config.variables.selectedFeatures,type:"FeatureCollection"},name:n}),i.config.variables.capaGeoJSON.setStyle(l),i.map_.addLayers(i.config.variables.capaGeoJSON),i.config.variables.capaGeoJSON.displayInLayerSwitcher=!0,i.config.variables.capaGeoJSON.on(M.evt.LOAD,(function(){i.map_.setBbox(i.config.variables.capaGeoJSON.getFeatures()[0].impl_.olFeature_.getGeometry().extent_)})),i.config.variables.capaGeoJSON.setZIndex(1e5)}}}),!1),this.config.selector.nextPageEl.addEventListener("click",(function(){i.nextPage()})),this.config.selector.previusPageEl.addEventListener("click",(function(){i.previusPage()})),this.getData(this.config.variables.geosearchUrlEspaciosProductivos,this.config.variables.atributosBusqueda),this.map_.getPanels("panelSearchPanel")[0].on(M.evt.SHOW,(function(){document.querySelectorAll("div.m-area.m-bottom.m-right")[0].style.display="none"})),this.map_.getPanels("panelSearchPanel")[0].on(M.evt.HIDE,(function(){document.querySelectorAll("div.m-area.m-bottom.m-right")[0].style.display="flex"}))}},{key:"activate",value:function(){m(O(a.prototype),"activate",this).call(this)}},{key:"deactivate",value:function(){m(O(a.prototype),"deactivate",this).call(this)}},{key:"getActivationButton",value:function(e){return e.querySelector(".m-searchpanel button")}},{key:"equals",value:function(e){return e instanceof a}},{key:"enableButtons",value:function(){this.config.selector.loadButtonEl.disabled=!1,this.config.selector.clearButtonEl.disabled=!1}},{key:"getData",value:function(e,i){for(var o,t=this,s=0;s<i.length;s++)o=0==s?i[s]:o+"+"+i[s];var a=e+"*:*&rows=1000000&start=0&srs=EPSG:25830&fl="+o;M.remote.get(a).then((function(e){var i=JSON.parse(e.text).response.docs;t.makeObject(i),t.config.variables.arrayTipologias=g(new Set(i.map((function(e){return e.tipologia})))),t.config.variables.arrayProvincias=g(new Set(i.map((function(e){return e.provincia}))));for(var o=function(e){var o=t.config.variables.arrayProvincias[e],s=i.filter((function(e){return e.provincia==o})),a=g(new Set(s.map((function(e){return e.municipio})))),c={provincia:o,municipios:a};t.config.variables.arrayMunicipiosByProvincias.push(c)},s=0;s<t.config.variables.arrayProvincias.length;s++)o(s)})).then((function(){0!=t.config.variables.arrayProvincias.length&&t.rellenaProvincia(t.config.variables.arrayProvincias),0!=t.config.variables.arrayTipologias.length&&t.rellenaTipologia(t.config.variables.arrayTipologias)}))}},{key:"makeObject",value:function(e){for(var i=0;i<e.length;i++){var o=e[i],t={provincia:o.provincia,municipio:o.municipio,solrid:o.solrid,tipologia:o.tipologia};this.config.variables.arrayObjetosRecuperados.push(t)}}},{key:"rellenaProvincia",value:function(e){this.addOptionsSelect(e,"selectProvinciasEspaciosProductivos","Todas las Provincias"),this.addOptionsSelect(e,"selectProvinciasParcelas","Todas las Provincias")}},{key:"rellenaTipologia",value:function(e){this.addOptionsSelect(e,"selectTipologiaEspaciosProductivos","Todas las Tipologías")}},{key:"actualizoMunicipio",value:function(e,i){var o=this,t=new Array;document.getElementById(i).innerHTML="";for(var s=function(i){var s=e[i];if("*"==e)for(var a=0;a<o.config.variables.arrayMunicipiosByProvincias.length;a++){var c=o.config.variables.arrayMunicipiosByProvincias[a];t=t.concat(c.municipios)}else{var n=o.config.variables.arrayMunicipiosByProvincias.filter((function(e){return e.provincia==s}));t=t.concat(n[0].municipios)}t=t.sort((function(e,i){return e.localeCompare(i)}))},a=0;a<e.length;a++)s(a);this.addOptionsSelect(t,i,"Todos los Municipios")}},{key:"addOptionsSelect",value:function(e,i,o){var t=document.getElementById(i),s=document.createElement("option");s.appendChild(document.createTextNode(o)),s.value="all",s.selected=!0,t.appendChild(s);for(var a=0;a<e.length;a++)(s=document.createElement("option")).appendChild(document.createTextNode(e[a])),s.value=e[a],t.appendChild(s);t.disabled=!1}},{key:"getSelectedSolrId",value:function(e,i){var o=this;if("espaciosProductivos"==this.config.variables.activedPanel)if(this.config.variables.selectedSolridEspaciosProductivos=new Array,i.includes("all"))for(var t=function(i){for(var t=e[i],s=o.config.variables.arrayObjetosRecuperados.filter((function(e){return e.provincia===t})),a=0;a<s.length;a++)o.config.variables.selectedSolridEspaciosProductivos.push(s[a])},s=0;s<e.length;s++)t(s);else for(var a=function(e){for(var t=i[e],s=o.config.variables.arrayObjetosRecuperados.filter((function(e){return e.municipio===t})),a=0;a<s.length;a++)o.config.variables.selectedSolridEspaciosProductivos.push(s[a])},c=0;c<i.length;c++)a(c);if("parcelas"==this.config.variables.activedPanel)if(this.config.variables.selectedSolridParcelas=new Array,i.includes("all"))for(var n=function(i){for(var t=e[i],s=o.config.variables.arrayObjetosRecuperados.filter((function(e){return e.provincia===t})),a=0;a<s.length;a++)o.config.variables.selectedSolridParcelas.push(s[a])},l=0;l<e.length;l++)n(l);else for(var r=function(e){for(var t=i[e],s=o.config.variables.arrayObjetosRecuperados.filter((function(e){return e.municipio===t})),a=0;a<s.length;a++)o.config.variables.selectedSolridParcelas.push(s[a])},u=0;u<i.length;u++)r(u)}},{key:"mappingSupSolar",value:function(e){var i=null;switch(e){case"1":i="Menor de 2.000 m²";break;case"2":i="Entre 2.000 m² y 5.000 m²";break;case"3":i="Entre 5000 m² y 10.000 m²";break;case"4":i="Mayor de 10.000 m²"}return i}},{key:"wrapComplexFeature",value:function(e){var i=e.getGeometry();if(i.getType()===M.geom.wkt.type.POLYGON||i.getType()===M.geom.wkt.type.MULTI_POLYGON){var o;o=i.getType()===M.geom.wkt.type.POLYGON?i.getInteriorPoint():i.getInteriorPoints();var t=new ol.geom.GeometryCollection([o,i]);e.setGeometry(t)}}},{key:"showBuscadorArea",value:function(){this.showBuscadorEspacioProductivo(),this.config.selector.buscadorAreaEl.style.display="block",this.config.selector.resultadosBusquedaEl.style.display="none"}},{key:"hideBuscadorArea",value:function(){this.config.selector.buscadorAreaEl.style.display="none",this.config.selector.resultadosBusquedaEl.style.display="none"}},{key:"showBuscadorEspacioProductivo",value:function(){this.clear(),this.config.selector.buscarEspacioProductivoEl.classList.add("actived"),this.config.selector.buscarEmpresaEl.classList.remove("actived"),this.config.selector.buscarParcelaEl.classList.remove("actived"),this.config.selector.buscadorEspaciosProductivosEl.style.display="block",this.config.selector.buscadorEstablecimientosEl.style.display="none",this.config.selector.buscadorParcelasEl.style.display="none",this.config.selector.resultadosBusquedaEl.style.display="none",this.config.selector.paginationEl.style.display="none",this.config.selector.textboxEstablecimientoEl.value="",this.config.selector.textboxEspacioProductivoParcelasEl.value="",this.config.variables.activedPanel="espaciosProductivos"}},{key:"showBuscadorEmpresas",value:function(){this.clear(),this.config.selector.buscarEmpresaEl.classList.add("actived"),this.config.selector.buscarEspacioProductivoEl.classList.remove("actived"),this.config.selector.buscadorEspaciosProductivosEl.style.display="none",this.config.selector.buscarParcelaEl.classList.remove("actived"),this.config.selector.buscadorParcelasEl.style.display="none",this.config.selector.resultadosBusquedaEl.style.display="none",this.config.selector.paginationEl.style.display="none",this.config.selector.buscadorEstablecimientosEl.style.display="block",this.config.selector.SelectTipologiaEspaciosProductivosEl.selectedIndex=0,this.config.selector.SelectTipologiaParcelasEl.selectedIndex=0,this.config.selector.textboxNombreEspacioProductivoEl.value="",this.config.selector.textboxEspacioProductivoEl.value="",this.config.selector.textboxEspacioProductivoParcelasEl.value="",this.config.selector.SelectActividadEl.selectedIndex=0,this.config.selector.textboxEstablecimientoEl.value="",this.config.variables.activedPanel="empresas"}},{key:"showBuscadorParcelas",value:function(){this.clear(),this.config.selector.buscarParcelaEl.classList.add("actived"),this.config.selector.buscarEspacioProductivoEl.classList.remove("actived"),this.config.selector.buscadorEspaciosProductivosEl.style.display="none",this.config.selector.buscarEmpresaEl.classList.remove("actived"),this.config.selector.buscadorEstablecimientosEl.style.display="none",this.config.selector.resultadosBusquedaEl.style.display="none",this.config.selector.paginationEl.style.display="none",this.config.selector.buscadorParcelasEl.style.display="block",this.config.selector.SelectTipologiaEspaciosProductivosEl.selectedIndex=0,this.config.selector.textboxNombreEspacioProductivoEl.value="",this.config.selector.textboxEspacioProductivoEl.value="",this.config.selector.textboxEspacioProductivoParcelasEl.value="",this.config.selector.SelectActividadEl.selectedIndex=0,this.config.selector.textboxEstablecimientoEl.value="",this.config.variables.activedPanel="parcelas"}},{key:"clear",value:function(){this.config.variables.selectedTipologiasEspaciosProductivos=new Array,this.config.selector.selectProvinciasEspaciosProductivosEL.value="",this.config.selector.selectProvinciasEspaciosProductivosEL.multiple=!1,this.config.selector.selectProvinciasParcelasEL.value="",this.config.selector.selectProvinciasParcelasEL.multiple=!1,this.config.selector.SelectMunicipiosEspaciosProductivosEL.value="",this.config.selector.SelectMunicipiosEspaciosProductivosEL.selectedIndex=0,this.config.selector.SelectMunicipiosEspaciosProductivosEL.options[0].text="  -- Municipios --  ",this.config.selector.SelectMunicipiosEspaciosProductivosEL.disabled=!0,this.config.selector.SelectMunicipiosEspaciosProductivosEL.multiple=!1,this.config.selector.selectedMunicipiosEspaciosProductivos=new Array,this.config.selector.selectMunicipiosParcelasEL.value="",this.config.selector.selectMunicipiosParcelasEL.selectedIndex=0,this.config.selector.selectMunicipiosParcelasEL.options[0].text="  -- Municipios --  ",this.config.selector.selectMunicipiosParcelasEL.disabled=!0,this.config.selector.selectMunicipiosParcelasEL.multiple=!1,this.config.variables.selectedMunicipiosParcelas=new Array,this.config.selector.selectedTipologiasEspaciosProductivos=new Array,this.config.selector.SelectTipologiaEspaciosProductivosEl.value="",this.config.selector.SelectTipologiaEspaciosProductivosEl.selectedIndex=0,this.config.selector.SelectTipologiaEspaciosProductivosEl.options[0].text="  -- Tipologías --  ",this.config.selector.SelectTipologiaEspaciosProductivosEl.selectedIndex=0,this.config.selector.SelectTipologiaEspaciosProductivosEl.multiple=!1,this.config.selector.SelectSubTipologiaEspaciosProductivosEl.selectedIndex=0,this.config.selector.SelectTipologiaParcelasEl.multiple=!1,this.config.selector.SelectTipologiaParcelasEl.selectedIndex=0,this.config.selector.textboxNombreEspacioProductivoEl.value="",this.config.selector.textboxEstablecimientoEl.value="",this.config.selector.textboxEspacioProductivoEl.value="",this.config.selector.textboxEspacioProductivoParcelasEl.value="",this.config.selector.SelectActividadEl.selectedIndex=0,this.config.selector.textboxEstablecimientoEl.value="",this.config.selector.loadButtonEl.disabled=!0,this.config.variables.totalRecords=null,this.config.variables.page_number=1,this.config.variables.page_total=null,this.config.variables.espaciosProductivosList=new Array,this.config.selector.clearButtonEl.disabled=!0,this.config.selector.resultadosBusquedaEl.style.display="none","empresas"==this.config.variables.activedPanel&&(this.config.selector.buscadorEspaciosProductivosEl.style.display="none",this.config.selector.buscadorParcelasEl.style.display="none",this.config.selector.buscadorEstablecimientosEl.style.display="block"),"espaciosProductivos"==this.config.variables.activedPanel&&(this.config.selector.buscadorEstablecimientosEl.style.display="none",this.config.selector.buscadorParcelasEl.style.display="none",this.config.selector.buscadorEspaciosProductivosEl.style.display="block"),"parcelas"==this.config.variables.activedPanel&&(this.config.selector.buscadorEstablecimientosEl.style.display="none",this.config.selector.buscadorEspaciosProductivosEl.style.display="none",this.config.selector.buscadorParcelasEl.style.display="block"),this.config.selector.paginationEl.style.display="none",this.map_.removeLayers(this.config.variables.capaGeoJSON),this.config.variables.capaGeoJSON=null}},{key:"search",value:function(){var e=this;this.config.variables.selectedProvinciasEspaciosProductivos=new Array,this.config.variables.selectedMunicipiosEspaciosProductivos=new Array,this.config.variables.selectedTipologiaEspaciosProductivos=new Array,this.config.variables.selectedProvinciasParcelas=new Array,this.config.variables.selectedMunicipiosParcelas=new Array,this.config.variables.selectedTipologiaParcelas=new Array;var i,o=h(this.config.selector.selectProvinciasEspaciosProductivosEL.options);try{for(o.s();!(i=o.n()).done;){var t=i.value;t.selected&&this.config.variables.selectedProvinciasEspaciosProductivos.push(t.value)}}catch(e){o.e(e)}finally{o.f()}-1!=this.config.variables.selectedProvinciasEspaciosProductivos.indexOf("all")&&(this.config.variables.selectedProvinciasEspaciosProductivos=["all"]);var s,a=h(this.config.selector.SelectMunicipiosEspaciosProductivosEL.options);try{for(a.s();!(s=a.n()).done;){var c=s.value;c.selected&&this.config.variables.selectedMunicipiosEspaciosProductivos.push(c.value)}}catch(e){a.e(e)}finally{a.f()}-1!=this.config.variables.selectedMunicipiosEspaciosProductivos.indexOf("all")&&(this.config.variables.selectedMunicipiosEspaciosProductivos=["all"]);var n,l=h(this.config.selector.SelectTipologiaEspaciosProductivosEl.options);try{for(l.s();!(n=l.n()).done;){var r=n.value;r.selected&&this.config.variables.selectedTipologiaEspaciosProductivos.push(r.value)}}catch(e){l.e(e)}finally{l.f()}-1!=this.config.variables.selectedTipologiaEspaciosProductivos.indexOf("all")&&(this.config.variables.selectedTipologiaEspaciosProductivos=["all"]);var u,d=h(this.config.selector.selectProvinciasParcelasEL.options);try{for(d.s();!(u=d.n()).done;){var p=u.value;p.selected&&this.config.variables.selectedProvinciasParcelas.push(p.value)}}catch(e){d.e(e)}finally{d.f()}-1!=this.config.variables.selectedProvinciasParcelas.indexOf("all")&&(this.config.variables.selectedProvinciasParcelas=["*"]);var v,f=h(this.config.selector.selectMunicipiosParcelasEL.options);try{for(f.s();!(v=f.n()).done;){var b=v.value;b.selected&&this.config.variables.selectedMunicipiosParcelas.push(b.value)}}catch(e){f.e(e)}finally{f.f()}-1!=this.config.variables.selectedMunicipiosParcelas.indexOf("all")&&(this.config.variables.selectedMunicipiosParcelas=["*"]);var g,y=h(this.config.selector.SelectTipologiaParcelasEl.options);try{for(y.s();!(g=y.n()).done;){var P=g.value;P.selected&&this.config.variables.selectedTipologiaParcelas.push(P.value)}}catch(e){y.e(e)}finally{y.f()}-1!=this.config.variables.selectedTipologiaParcelas.indexOf("all")&&(this.config.variables.selectedTipologiaParcelas=["*"]);var E=null,m="";this.config.variables.totalRecords=null,this.config.variables.page_number=1,this.config.variables.page_total=null,this.config.variables.espaciosProductivosList=new Array;var S=new Array;"espaciosProductivos"==this.config.variables.activedPanel&&this.getSelectedSolrId(this.config.variables.selectedProvinciasEspaciosProductivos,this.config.variables.selectedMunicipiosEspaciosProductivos),"parcelas"==this.config.variables.activedPanel&&this.getSelectedSolrId(this.config.variables.selectedProvinciasParcelas,this.config.variables.selectedMunicipiosParcelas);var x=this.config.variables.selectedProvinciasParcelas,w=this.config.variables.selectedMunicipiosParcelas,T=this.config.variables.selectedTipologiaParcelas,O=this.config.selector.textboxEspacioProductivoEl.value,k=this.config.selector.textboxEspacioProductivoParcelasEl.value,L=this.config.selector.SelectActividadEl.value,A=this.config.selector.textboxEstablecimientoEl.value;if("empresas"==this.config.variables.activedPanel&&(E=this.config.variables.geosearchUrlDirectorioEmpresas,""!=O&&S.push('nombre:"'+O+'"'),""!=L&&S.push('actividad:"'+L+'"'),""!=A&&S.push('razon_soci:"'+A+'"')),"espaciosProductivos"==this.config.variables.activedPanel){if(E=this.config.variables.geosearchUrlEspaciosProductivos,0!=this.config.variables.selectedSolridEspaciosProductivos.length){for(var R="",_=0;_<this.config.variables.selectedSolridEspaciosProductivos.length;_++){var q=this.config.variables.selectedSolridEspaciosProductivos[_];R=0==_?R+'solrid:"'+q.solrid+'"':R+' OR solrid:"'+q.solrid+'"'}S.push(R)}if(0!=this.config.variables.selectedTipologiasEspaciosProductivos.length){for(var B="",N=0;N<this.config.variables.selectedTipologiasEspaciosProductivos.length;N++){var j=this.config.variables.selectedTipologiasEspaciosProductivos[N];B="*"==j&&0==N?B+"tipologia:"+j:0==N&&"*"!=j?B+'tipologia:"'+j+'"':B+' OR tipologia:"'+j+'"'}S.push(B)}""!=this.config.selector.textboxNombreEspacioProductivoEl.value&&S.push('nombre: "'+this.config.selector.textboxNombreEspacioProductivoEl.value+'"'),0==S.length&&M.dialog.error("Debe introducir almenos un parámetro de búsqueda")}if("parcelas"==this.config.variables.activedPanel){if(E=this.config.variables.geosearchUrlParcelas,0!=x.length){m+="(provincia:";for(var C=0;C<x.length;C++)C==x.length-1?m+='"'+x[C]+'")':m+='"'+x[C]+'",'}if(0!=w.length){m+="AND(municipio:";for(var I=0;I<w.length;I++)I==w.length-1?m+='"'+w[I]+'")':m+='"'+w[I]+'",'}if(0!=T.length){S.push('rango:"'+T+'"'),m+="AND(rango:";for(var G=0;G<T.length;G++)G==T.length-1?m+='"'+T[G]+'")':m+='"'+T[G]+'",'}""!=k&&(m+='AND(nombre:"'+k+'")')}if("espaciosProductivos"==this.config.variables.activedPanel||"empresas"==this.config.variables.activedPanel)if(1==S.length)m="("+S[0]+")";else for(var F=0;F<S.length;F++)F==S.length-1?m+="("+S[F]+")":m+="("+S[F]+") AND ";M.remote.get(E+encodeURI(m)+this.config.variables.otherParameters).then((function(i){e.config.variables.arrayFeaturesMapeaGeoJSON=new Array;var o=JSON.parse(i.text),t=ol.proj.get(e.map_.getProjection().code);o.response.docs.forEach((function(i){var o=e.config.variables.wktFormatter_.readFeature(i.geom,{dataProjection:t});o.setId(i.solrid),o.setProperties(i),e.wrapComplexFeature(o);var s=M.impl.Feature.olFeature2Facade(o);s.setAttribute("geom",null),e.config.variables.arrayFeaturesMapeaGeoJSON.push(s.getGeoJSON())})),e.showResult(e.config.variables.arrayFeaturesMapeaGeoJSON)}))}},{key:"paginate",value:function(e,i,o){return e.slice((o-1)*i,o*i)}},{key:"showResult",value:function(e){if(this.config.selector.resultadosBusquedaEl.style.display="block",this.config.selector.buscadorEspaciosProductivosEl.style.display="none",this.config.selector.buscadorEstablecimientosEl.style.display="none",this.config.selector.buscadorParcelasEl.style.display="none",this.config.variables.dataList=new Array,this.config.variables.totalRecords=e.length,this.config.variables.totalRecords>0){this.config.variables.dataList=e,this.config.selector.paginationEl.style.display="block",this.config.variables.totalRecords%this.config.variables.maxRecordsPage==0?this.config.variables.page_total=this.config.variables.totalRecords/this.config.variables.maxRecordsPage:this.config.variables.page_total=Math.floor(this.config.variables.totalRecords/this.config.variables.maxRecordsPage)+1;var i=this.paginate(this.config.variables.dataList,this.config.variables.maxRecordsPage,this.config.variables.page_number),o=this.createHtmlTable(i,this.config.variables.activedPanel);this.createPaginationHTML(),this.config.selector.resultsEl.innerHTML=o,this.config.selector.loadButtonEl.disabled=!0}else this.config.selector.resultsEl.innerHTML='<table class="center">\n<tbody>\n<tr>\n<th class="noResults" colspan="2">\n<p>No se ha encontrado ningún resultado</p>\n</th>\n</tr>\n</tbody>\n</table>',this.config.selector.recordsNumberEl.textContent="0",this.config.selector.recordsTotalEl.textContent="0",this.config.selector.nextPageEl.style.visibility="hidden",this.config.selector.previusPageEl.style.visibility="hidden",this.config.selector.paginationEl.style.display="block"}},{key:"createHtmlTable",value:function(e,i){var o="";if("espaciosProductivos"==i)for(var t=0;t<e.length;t++){var s=e[t];o+='<table id="'+s.properties.solrid+'" class="result">\n<tbody class="pointer-none">\n<tr class="rowResult" >\n<td class="key">Nombre</td>\n<td class="value">'+s.properties.nombre+'</td>\n</tr>\n<tr class="rowResult">\n<td class="key">Tipología</td>\n<td class="value">'+s.properties.tipologia+'</td>\n</tr>\n<tr  class="rowResult">\n<td class="key">Provincia</td>\n<td class="value">'+s.properties.provincia+'</td>\n</tr>\n<tr class="rowResult">\n<td class="key">Municipio</td>\n<td class="value">'+s.properties.municipio+"</td>\n</tr>\n</tbody>\n</table>\n"}if("empresas"==i)for(var a=0;a<e.length;a++){var c=e[a];o+='<table id="'+c.properties.solrid+'" class="result">\n<tbody class="pointer-none">\n<tr class="rowResult" >\n<td class="key">Nombre</td>\n<td class="value">'+c.properties.razon_soci+'</td>\n</tr>\n<tr class="rowResult">\n<td class="key">Actividad</td>\n<td class="value">'+c.properties.actividad+'</td>\n</tr>\n<tr  class="rowResult">\n<td class="key">Asalariados</td>\n<td class="value">'+c.properties.estrato+'</td>\n</tr>\n<tr  class="rowResult">\n<td class="key">Dirección</td>\n<td class="value">'+c.properties.direccion+'</td>\n</tr>\n<tr class="rowResult">\n<td class="key">Espacio Productivo</td>\n<td class="value">'+c.properties.nombre+"</td>\n</tr>\n</tbody>\n</table>\n"}if("parcelas"==i)for(var n=0;n<e.length;n++){var l=e[n];o+='<table id="'+l.properties.solrid+'" class="result" style="0px">\n<tbody  class="pointer-none">\n<tr class="rowResult" >\n<td class="key">Espacio Productivo</td>\n<td class="value">'+l.properties.nombre+'</td>\n</tr>\n<tr class="rowResult">\n<td class="key">Municipio</td>\n<td class="value">'+l.properties.municipio+'</td>\n</tr>\n<tr  class="rowResult">\n<td class="key">Provincia</td>\n<td class="value">'+l.properties.provincia+'</td>\n</tr>\n<tr  class="rowResult">\n<td class="key">Superficie m²</td>\n<td class="value">'+l.properties.solares+' m²</td>\n</tr>\n<tr  class="rowResult">\n<td class="key">Tipología Solar</td>\n<td class="value">'+this.mappingSupSolar(l.properties.rango)+'</td>\n</tr>\n</tbody>\n</table>\n<table class="refCatResult"><tbody class="pointer-none">\n<tr class="refCatResult">\n<td class="key">Referencia Catastral</td>\n<td class="value refCat">'+l.properties.refcat+"</td>\n</tr>\n</tbody>\n</table>\n"}return o}},{key:"createPaginationHTML",value:function(){this.config.selector.recordsTotalEl.textContent=this.config.variables.totalRecords,this.config.variables.totalRecords<this.config.variables.maxRecordsPage?this.config.selector.recordsNumberEl.textContent=this.config.variables.totalRecords:this.config.selector.recordsNumberEl.textContent="1 - "+this.config.variables.maxRecordsPage,this.config.variables.page_total>1?this.config.selector.nextPageEl.style.visibility="visible":(this.config.selector.previusPageEl.style.visibility="hidden",this.config.selector.nextPageEl.style.visibility="hidden")}},{key:"previusPage",value:function(){this.config.variables.page_number-=1;var e=this.paginate(this.config.variables.dataList,this.config.variables.maxRecordsPage,this.config.variables.page_number),i=this.createHtmlTable(e,this.config.variables.activedPanel);this.config.selector.resultsEl.innerHTML=i,1==this.config.variables.page_number?(this.config.selector.recordsNumberEl.textContent="1 - "+this.config.variables.page_number*this.config.variables.maxRecordsPage,this.config.selector.previusPageEl.style.visibility="hidden",this.config.selector.nextPageEl.style.visibility="visible"):(this.config.selector.recordsNumberEl.textContent=this.config.variables.page_number*this.config.variables.maxRecordsPage-(this.config.variables.maxRecordsPage-1)+" - "+this.config.variables.page_number*this.config.variables.maxRecordsPage,this.config.selector.previusPageEl.style.visibility="visible",this.config.selector.nextPageEl.style.visibility="visible")}},{key:"nextPage",value:function(){this.config.variables.page_number+=1;var e=this.paginate(this.config.variables.dataList,this.config.variables.maxRecordsPage,this.config.variables.page_number),i=this.createHtmlTable(e,this.config.variables.activedPanel);this.config.selector.resultsEl.innerHTML=i,this.config.variables.page_number==this.config.variables.page_total?(this.config.selector.recordsNumberEl.textContent=this.config.variables.totalRecords,this.config.selector.previusPageEl.style.visibility="visible",this.config.selector.nextPageEl.style.visibility="hidden"):(this.config.selector.recordsNumberEl.textContent=this.config.variables.page_number*this.config.variables.maxRecordsPage-(this.config.variables.maxRecordsPage-1)+" - "+this.config.variables.page_number*this.config.variables.maxRecordsPage,this.config.selector.previusPageEl.style.visibility="visible",this.config.selector.nextPageEl.style.visibility="visible")}}])&&E(i.prototype,o),t&&E(i,t),Object.defineProperty(i,"prototype",{writable:!1}),a}(),L=o(1);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,i){for(var o=0;o<i.length;o++){var t=i[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _(e,i){return(_=Object.setPrototypeOf||function(e,i){return e.__proto__=i,e})(e,i)}function q(e){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,t=N(e);if(i){var s=N(this).constructor;o=Reflect.construct(t,arguments,s)}else o=t.apply(this,arguments);return B(this,o)}}function B(e,i){if(i&&("object"===A(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){!function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),i&&_(e,i)}(a,M.Plugin);var i,o,t,s=q(a);function a(e){var i;return function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this,a),(i=s.call(this)).map_=null,i.config=e,i.controls_=[],i.metadata_=L.metadata,i}return i=a,(o=[{key:"addTo",value:function(e){this.controls_.push(new k(this.config)),this.controls_.push(this.control_),this.map_=e,this.panel_=new M.ui.Panel("panelSearchPanel",{collapsible:!0,className:"m-searchpanel",position:M.ui.position.TR,collapsedButtonClass:"g-cartografia-prismaticos"}),this.panel_.addControls(this.controls_),e.addPanels(this.panel_)}},{key:"getMetadata",value:function(){return this.metadata_}}])&&R(i.prototype,o),t&&R(i,t),Object.defineProperty(i,"prototype",{writable:!1}),a}();window.M.plugin||(window.M.plugin={}),window.M.control||(window.M.control={}),window.M.impl||(window.M.impl={}),window.M.impl.control||(window.M.impl.control={}),window.M.plugin.SearchPanel=j,window.M.control.SearchPanelControl=k,window.M.impl.control.SearchPanelControl=p}]);
//# sourceMappingURL=searchpanel.ol.min.js.map